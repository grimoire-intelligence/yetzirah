{"version":3,"sources":["../src/utils/register.js","../src/toggle.js"],"names":["register","name","constructor","YtzToggle","#setup","#updateState","#handleClick","#handleKeydown","oldVal","newVal","willCheck","value"],"mappings":"AAeO,SAASA,CAAAA,CAASC,CAAAA,CAAMC,CAAAA,CAAa,CACrC,cAAA,CAAe,IAAID,CAAI,CAAA,EAC1B,cAAA,CAAe,MAAA,CAAOA,CAAAA,CAAMC,CAAW,EAE3C,CCIA,IAAMC,CAAAA,CAAN,cAAwB,WAAY,CAClC,OAAO,kBAAA,CAAqB,CAAC,SAAA,CAAW,UAAU,CAAA,CAElD,iBAAA,EAAoB,CAClB,IAAA,CAAKC,EAAAA,EAAO,CACZ,IAAA,CAAKC,EAAAA,GACP,CAEAD,EAAAA,EAAS,CAEP,IAAA,CAAK,YAAA,CAAa,MAAA,CAAQ,QAAQ,EAC7B,IAAA,CAAK,YAAA,CAAa,UAAU,CAAA,EAC/B,IAAA,CAAK,YAAA,CAAa,WAAY,GAAG,CAAA,CAInC,IAAA,CAAK,gBAAA,CAAiB,OAAA,CAAS,IAAA,CAAKE,EAAY,CAAA,CAChD,IAAA,CAAK,gBAAA,CAAiB,SAAA,CAAW,IAAA,CAAKC,EAAc,EACtD,CAEA,oBAAA,EAAuB,CACrB,IAAA,CAAK,mBAAA,CAAoB,OAAA,CAAS,KAAKD,EAAY,CAAA,CACnD,IAAA,CAAK,mBAAA,CAAoB,SAAA,CAAW,IAAA,CAAKC,EAAc,EACzD,CAEA,wBAAA,CAAyBN,CAAAA,CAAMO,CAAAA,CAAQC,CAAAA,CAAQ,CACzC,IAAA,CAAK,WAAA,EACP,IAAA,CAAKJ,EAAAA,GAET,CAEAC,GAAe,IAAM,CACf,IAAA,CAAK,QAAA,EACT,IAAA,CAAK,MAAA,GACP,CAAA,CAEAC,EAAAA,CAAkB,CAAA,EAAM,CAClB,IAAA,CAAK,QAAA,EAAA,CAEL,EAAE,GAAA,GAAQ,GAAA,EAAO,CAAA,CAAE,GAAA,GAAQ,OAAA,IAC7B,CAAA,CAAE,gBAAe,CACjB,IAAA,CAAK,MAAA,EAAO,EAEhB,CAAA,CAEAF,EAAAA,EAAe,CACb,IAAA,CAAK,YAAA,CAAa,cAAA,CAAgB,MAAA,CAAO,IAAA,CAAK,OAAO,CAAC,CAAA,CACtD,IAAA,CAAK,YAAA,CAAa,eAAA,CAAiB,MAAA,CAAO,IAAA,CAAK,QAAQ,CAAC,EAC1D,CAMA,MAAA,EAAS,CACP,IAAMK,EAAY,CAAC,IAAA,CAAK,OAAA,CAEpBA,CAAAA,CACF,IAAA,CAAK,YAAA,CAAa,UAAW,EAAE,CAAA,CAE/B,IAAA,CAAK,eAAA,CAAgB,SAAS,CAAA,CAGhC,KAAK,aAAA,CAAc,IAAI,WAAA,CAAY,QAAA,CAAU,CAC3C,OAAA,CAAS,KACT,MAAA,CAAQ,CAAE,OAAA,CAASA,CAAU,CAC/B,CAAC,CAAC,EACJ,CAMA,IAAI,OAAA,EAAU,CACZ,OAAO,KAAK,YAAA,CAAa,SAAS,CACpC,CAEA,IAAI,OAAA,CAAQC,EAAO,CACbA,CAAAA,CACF,IAAA,CAAK,YAAA,CAAa,SAAA,CAAW,EAAE,EAE/B,IAAA,CAAK,eAAA,CAAgB,SAAS,EAElC,CAMA,IAAI,UAAW,CACb,OAAO,IAAA,CAAK,YAAA,CAAa,UAAU,CACrC,CAEA,IAAI,QAAA,CAASA,CAAAA,CAAO,CACdA,CAAAA,CACF,IAAA,CAAK,aAAa,UAAA,CAAY,EAAE,CAAA,CAEhC,IAAA,CAAK,eAAA,CAAgB,UAAU,EAEnC,CACF,EAEAX,CAAAA,CAAS,YAAA,CAAcG,CAAS,CAAA","file":"toggle.js","sourcesContent":["/**\n * Idempotent custom element registration utility.\n * Prevents duplicate registration errors when scripts load multiple times.\n *\n * @module @grimoire/yetzirah-core/utils/register\n * @internal Not exported from package\n */\n\n/**\n * Register a custom element if not already registered.\n * Safe to call multiple times with the same name.\n *\n * @param {string} name - Custom element tag name (e.g., 'ytz-button')\n * @param {CustomElementConstructor} constructor - The element class\n */\nexport function register(name, constructor) {\n  if (!customElements.get(name)) {\n    customElements.define(name, constructor)\n  }\n}\n","/**\n * ytz-toggle - Switch/Toggle Web Component.\n * A toggle switch with checkbox semantics and aria-checked.\n *\n * @module @grimoire/yetzirah-core/toggle\n * @example\n * <ytz-toggle>Enable notifications</ytz-toggle>\n *\n * @example\n * // Initially checked\n * <ytz-toggle checked>Dark mode</ytz-toggle>\n *\n * @example\n * // Disabled\n * <ytz-toggle disabled>Premium feature</ytz-toggle>\n */\n\nimport { register } from './utils/register.js'\n\n/**\n * @class YtzToggle\n * @extends HTMLElement\n */\nclass YtzToggle extends HTMLElement {\n  static observedAttributes = ['checked', 'disabled']\n\n  connectedCallback() {\n    this.#setup()\n    this.#updateState()\n  }\n\n  #setup() {\n    // Set role and make focusable\n    this.setAttribute('role', 'switch')\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0')\n    }\n\n    // Event listeners\n    this.addEventListener('click', this.#handleClick)\n    this.addEventListener('keydown', this.#handleKeydown)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this.#handleClick)\n    this.removeEventListener('keydown', this.#handleKeydown)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (this.isConnected) {\n      this.#updateState()\n    }\n  }\n\n  #handleClick = () => {\n    if (this.disabled) return\n    this.toggle()\n  }\n\n  #handleKeydown = (e) => {\n    if (this.disabled) return\n\n    if (e.key === ' ' || e.key === 'Enter') {\n      e.preventDefault()\n      this.toggle()\n    }\n  }\n\n  #updateState() {\n    this.setAttribute('aria-checked', String(this.checked))\n    this.setAttribute('aria-disabled', String(this.disabled))\n  }\n\n  /**\n   * Toggle the checked state.\n   * Dispatches a 'change' event with the new state.\n   */\n  toggle() {\n    const willCheck = !this.checked\n\n    if (willCheck) {\n      this.setAttribute('checked', '')\n    } else {\n      this.removeAttribute('checked')\n    }\n\n    this.dispatchEvent(new CustomEvent('change', {\n      bubbles: true,\n      detail: { checked: willCheck }\n    }))\n  }\n\n  /**\n   * Get/set the checked state.\n   * @type {boolean}\n   */\n  get checked() {\n    return this.hasAttribute('checked')\n  }\n\n  set checked(value) {\n    if (value) {\n      this.setAttribute('checked', '')\n    } else {\n      this.removeAttribute('checked')\n    }\n  }\n\n  /**\n   * Get/set the disabled state.\n   * @type {boolean}\n   */\n  get disabled() {\n    return this.hasAttribute('disabled')\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '')\n    } else {\n      this.removeAttribute('disabled')\n    }\n  }\n}\n\nregister('ytz-toggle', YtzToggle)\n\nexport { YtzToggle }\n"]}