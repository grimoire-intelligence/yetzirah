{"version":3,"sources":["../src/utils/register.js","../src/toggle.js"],"names":["register","name","constructor","YtzToggle","#setup","#updateState","#handleClick","#handleKeydown","oldVal","newVal","willCheck","value"],"mappings":"AAeO,SAASA,CAAAA,CAASC,CAAAA,CAAMC,CAAAA,CAAa,CACrC,cAAA,CAAe,IAAID,CAAI,CAAA,EAC1B,cAAA,CAAe,MAAA,CAAOA,CAAAA,CAAMC,CAAW,EAE3C,CCIA,IAAMC,CAAAA,CAAN,cAAwB,WAAY,CAClC,OAAO,kBAAA,CAAqB,CAAC,SAAA,CAAW,UAAU,CAAA,CAElD,iBAAA,EAAoB,CAClB,IAAA,CAAKC,EAAAA,EAAO,CACZ,IAAA,CAAKC,EAAAA,GACP,CAEAD,EAAAA,EAAS,CAEP,IAAA,CAAK,YAAA,CAAa,MAAA,CAAQ,QAAQ,EAC7B,IAAA,CAAK,YAAA,CAAa,UAAU,CAAA,EAC/B,IAAA,CAAK,YAAA,CAAa,WAAY,GAAG,CAAA,CAInC,IAAA,CAAK,gBAAA,CAAiB,OAAA,CAAS,IAAA,CAAKE,EAAY,CAAA,CAChD,IAAA,CAAK,gBAAA,CAAiB,SAAA,CAAW,IAAA,CAAKC,EAAc,EACtD,CAEA,oBAAA,EAAuB,CACrB,IAAA,CAAK,mBAAA,CAAoB,OAAA,CAAS,KAAKD,EAAY,CAAA,CACnD,IAAA,CAAK,mBAAA,CAAoB,SAAA,CAAW,IAAA,CAAKC,EAAc,EACzD,CAEA,wBAAA,CAAyBN,CAAAA,CAAMO,CAAAA,CAAQC,CAAAA,CAAQ,CACzC,IAAA,CAAK,WAAA,EACP,IAAA,CAAKJ,EAAAA,GAET,CAEAC,GAAe,IAAM,CACf,IAAA,CAAK,QAAA,EACT,IAAA,CAAK,MAAA,GACP,CAAA,CAEAC,EAAAA,CAAkB,CAAA,EAAM,CAClB,IAAA,CAAK,QAAA,EAAA,CAEL,EAAE,GAAA,GAAQ,GAAA,EAAO,CAAA,CAAE,GAAA,GAAQ,OAAA,IAC7B,CAAA,CAAE,gBAAe,CACjB,IAAA,CAAK,MAAA,EAAO,EAEhB,CAAA,CAEAF,EAAAA,EAAe,CACb,IAAA,CAAK,YAAA,CAAa,cAAA,CAAgB,MAAA,CAAO,IAAA,CAAK,OAAO,CAAC,CAAA,CACtD,IAAA,CAAK,YAAA,CAAa,eAAA,CAAiB,MAAA,CAAO,IAAA,CAAK,QAAQ,CAAC,EAC1D,CAMA,MAAA,EAAS,CACP,IAAMK,EAAY,CAAC,IAAA,CAAK,OAAA,CAEpBA,CAAAA,CACF,IAAA,CAAK,YAAA,CAAa,UAAW,EAAE,CAAA,CAE/B,IAAA,CAAK,eAAA,CAAgB,SAAS,CAAA,CAGhC,KAAK,aAAA,CAAc,IAAI,WAAA,CAAY,QAAA,CAAU,CAC3C,OAAA,CAAS,KACT,MAAA,CAAQ,CAAE,OAAA,CAASA,CAAU,CAC/B,CAAC,CAAC,EACJ,CAMA,IAAI,OAAA,EAAU,CACZ,OAAO,KAAK,YAAA,CAAa,SAAS,CACpC,CAEA,IAAI,OAAA,CAAQC,EAAO,CACbA,CAAAA,CACF,IAAA,CAAK,YAAA,CAAa,SAAA,CAAW,EAAE,EAE/B,IAAA,CAAK,eAAA,CAAgB,SAAS,EAElC,CAMA,IAAI,UAAW,CACb,OAAO,IAAA,CAAK,YAAA,CAAa,UAAU,CACrC,CAEA,IAAI,QAAA,CAASA,CAAAA,CAAO,CACdA,CAAAA,CACF,IAAA,CAAK,aAAa,UAAA,CAAY,EAAE,CAAA,CAEhC,IAAA,CAAK,eAAA,CAAgB,UAAU,EAEnC,CACF,EAEAX,CAAAA,CAAS,YAAA,CAAcG,CAAS,CAAA","file":"toggle.js","sourcesContent":["/**\r\n * Idempotent custom element registration utility.\r\n * Prevents duplicate registration errors when scripts load multiple times.\r\n *\r\n * @module @grimoire/yetzirah-core/utils/register\r\n * @internal Not exported from package\r\n */\r\n\r\n/**\r\n * Register a custom element if not already registered.\r\n * Safe to call multiple times with the same name.\r\n *\r\n * @param {string} name - Custom element tag name (e.g., 'ytz-button')\r\n * @param {CustomElementConstructor} constructor - The element class\r\n */\r\nexport function register(name, constructor) {\r\n  if (!customElements.get(name)) {\r\n    customElements.define(name, constructor)\r\n  }\r\n}\r\n","/**\r\n * ytz-toggle - Switch/Toggle Web Component.\r\n * A toggle switch with checkbox semantics and aria-checked.\r\n *\r\n * @module @grimoire/yetzirah-core/toggle\r\n * @example\r\n * <ytz-toggle>Enable notifications</ytz-toggle>\r\n *\r\n * @example\r\n * // Initially checked\r\n * <ytz-toggle checked>Dark mode</ytz-toggle>\r\n *\r\n * @example\r\n * // Disabled\r\n * <ytz-toggle disabled>Premium feature</ytz-toggle>\r\n */\r\n\r\nimport { register } from './utils/register.js'\r\n\r\n/**\r\n * @class YtzToggle\r\n * @extends HTMLElement\r\n */\r\nclass YtzToggle extends HTMLElement {\r\n  static observedAttributes = ['checked', 'disabled']\r\n\r\n  connectedCallback() {\r\n    this.#setup()\r\n    this.#updateState()\r\n  }\r\n\r\n  #setup() {\r\n    // Set role and make focusable\r\n    this.setAttribute('role', 'switch')\r\n    if (!this.hasAttribute('tabindex')) {\r\n      this.setAttribute('tabindex', '0')\r\n    }\r\n\r\n    // Event listeners\r\n    this.addEventListener('click', this.#handleClick)\r\n    this.addEventListener('keydown', this.#handleKeydown)\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.removeEventListener('click', this.#handleClick)\r\n    this.removeEventListener('keydown', this.#handleKeydown)\r\n  }\r\n\r\n  attributeChangedCallback(name, oldVal, newVal) {\r\n    if (this.isConnected) {\r\n      this.#updateState()\r\n    }\r\n  }\r\n\r\n  #handleClick = () => {\r\n    if (this.disabled) return\r\n    this.toggle()\r\n  }\r\n\r\n  #handleKeydown = (e) => {\r\n    if (this.disabled) return\r\n\r\n    if (e.key === ' ' || e.key === 'Enter') {\r\n      e.preventDefault()\r\n      this.toggle()\r\n    }\r\n  }\r\n\r\n  #updateState() {\r\n    this.setAttribute('aria-checked', String(this.checked))\r\n    this.setAttribute('aria-disabled', String(this.disabled))\r\n  }\r\n\r\n  /**\r\n   * Toggle the checked state.\r\n   * Dispatches a 'change' event with the new state.\r\n   */\r\n  toggle() {\r\n    const willCheck = !this.checked\r\n\r\n    if (willCheck) {\r\n      this.setAttribute('checked', '')\r\n    } else {\r\n      this.removeAttribute('checked')\r\n    }\r\n\r\n    this.dispatchEvent(new CustomEvent('change', {\r\n      bubbles: true,\r\n      detail: { checked: willCheck }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Get/set the checked state.\r\n   * @type {boolean}\r\n   */\r\n  get checked() {\r\n    return this.hasAttribute('checked')\r\n  }\r\n\r\n  set checked(value) {\r\n    if (value) {\r\n      this.setAttribute('checked', '')\r\n    } else {\r\n      this.removeAttribute('checked')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get/set the disabled state.\r\n   * @type {boolean}\r\n   */\r\n  get disabled() {\r\n    return this.hasAttribute('disabled')\r\n  }\r\n\r\n  set disabled(value) {\r\n    if (value) {\r\n      this.setAttribute('disabled', '')\r\n    } else {\r\n      this.removeAttribute('disabled')\r\n    }\r\n  }\r\n}\r\n\r\nregister('ytz-toggle', YtzToggle)\r\n\r\nexport { YtzToggle }\r\n"]}