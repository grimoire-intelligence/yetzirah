{"version":3,"sources":["../src/toggle.js"],"names":["YtzToggle","#setup","#updateState","#handleClick","#handleKeydown","name","oldVal","newVal","willCheck","value"],"mappings":"AAqBA,IAAMA,CAAAA,CAAN,cAAwB,WAAY,CAClC,OAAO,kBAAA,CAAqB,CAAC,SAAA,CAAW,UAAU,CAAA,CAElD,iBAAA,EAAoB,CAClB,IAAA,CAAKC,EAAAA,GACL,IAAA,CAAKC,EAAAA,GACP,CAEAD,EAAAA,EAAS,CAEP,IAAA,CAAK,YAAA,CAAa,MAAA,CAAQ,QAAQ,CAAA,CAC7B,IAAA,CAAK,aAAa,UAAU,CAAA,EAC/B,KAAK,YAAA,CAAa,UAAA,CAAY,GAAG,CAAA,CAInC,IAAA,CAAK,gBAAA,CAAiB,QAAS,IAAA,CAAKE,EAAY,EAChD,IAAA,CAAK,gBAAA,CAAiB,UAAW,IAAA,CAAKC,EAAc,EACtD,CAEA,oBAAA,EAAuB,CACrB,KAAK,mBAAA,CAAoB,OAAA,CAAS,KAAKD,EAAY,CAAA,CACnD,KAAK,mBAAA,CAAoB,SAAA,CAAW,IAAA,CAAKC,EAAc,EACzD,CAEA,yBAAyBC,CAAAA,CAAMC,CAAAA,CAAQC,EAAQ,CACzC,IAAA,CAAK,aACP,IAAA,CAAKL,EAAAA,GAET,CAEAC,EAAAA,CAAe,IAAM,CACf,IAAA,CAAK,QAAA,EACT,KAAK,MAAA,GACP,EAEAC,EAAAA,CAAkB,CAAA,EAAM,CAClB,IAAA,CAAK,QAAA,EAAA,CAEL,CAAA,CAAE,MAAQ,GAAA,EAAO,CAAA,CAAE,GAAA,GAAQ,OAAA,IAC7B,CAAA,CAAE,cAAA,GACF,IAAA,CAAK,MAAA,EAAO,EAEhB,CAAA,CAEAF,EAAAA,EAAe,CACb,KAAK,YAAA,CAAa,cAAA,CAAgB,OAAO,IAAA,CAAK,OAAO,CAAC,CAAA,CACtD,IAAA,CAAK,YAAA,CAAa,eAAA,CAAiB,MAAA,CAAO,IAAA,CAAK,QAAQ,CAAC,EAC1D,CAMA,MAAA,EAAS,CACP,IAAMM,CAAAA,CAAY,CAAC,IAAA,CAAK,OAAA,CAEpBA,CAAAA,CACF,IAAA,CAAK,aAAa,SAAA,CAAW,EAAE,EAE/B,IAAA,CAAK,eAAA,CAAgB,SAAS,CAAA,CAGhC,IAAA,CAAK,aAAA,CAAc,IAAI,WAAA,CAAY,QAAA,CAAU,CAC3C,OAAA,CAAS,IAAA,CACT,OAAQ,CAAE,OAAA,CAASA,CAAU,CAC/B,CAAC,CAAC,EACJ,CAMA,IAAI,SAAU,CACZ,OAAO,KAAK,YAAA,CAAa,SAAS,CACpC,CAEA,IAAI,OAAA,CAAQC,CAAAA,CAAO,CACbA,CAAAA,CACF,KAAK,YAAA,CAAa,SAAA,CAAW,EAAE,CAAA,CAE/B,IAAA,CAAK,gBAAgB,SAAS,EAElC,CAMA,IAAI,QAAA,EAAW,CACb,OAAO,IAAA,CAAK,YAAA,CAAa,UAAU,CACrC,CAEA,IAAI,QAAA,CAASA,CAAAA,CAAO,CACdA,CAAAA,CACF,IAAA,CAAK,YAAA,CAAa,WAAY,EAAE,CAAA,CAEhC,IAAA,CAAK,eAAA,CAAgB,UAAU,EAEnC,CACF,EAEA,cAAA,CAAe,MAAA,CAAO,YAAA,CAAcT,CAAS,CAAA","file":"toggle.js","sourcesContent":["/**\r\n * ytz-toggle - Switch/Toggle Web Component.\r\n * A toggle switch with checkbox semantics and aria-checked.\r\n *\r\n * @module @grimoire/yetzirah-core/toggle\r\n * @example\r\n * <ytz-toggle>Enable notifications</ytz-toggle>\r\n *\r\n * @example\r\n * // Initially checked\r\n * <ytz-toggle checked>Dark mode</ytz-toggle>\r\n *\r\n * @example\r\n * // Disabled\r\n * <ytz-toggle disabled>Premium feature</ytz-toggle>\r\n */\r\n\r\n/**\r\n * @class YtzToggle\r\n * @extends HTMLElement\r\n */\r\nclass YtzToggle extends HTMLElement {\r\n  static observedAttributes = ['checked', 'disabled']\r\n\r\n  connectedCallback() {\r\n    this.#setup()\r\n    this.#updateState()\r\n  }\r\n\r\n  #setup() {\r\n    // Set role and make focusable\r\n    this.setAttribute('role', 'switch')\r\n    if (!this.hasAttribute('tabindex')) {\r\n      this.setAttribute('tabindex', '0')\r\n    }\r\n\r\n    // Event listeners\r\n    this.addEventListener('click', this.#handleClick)\r\n    this.addEventListener('keydown', this.#handleKeydown)\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.removeEventListener('click', this.#handleClick)\r\n    this.removeEventListener('keydown', this.#handleKeydown)\r\n  }\r\n\r\n  attributeChangedCallback(name, oldVal, newVal) {\r\n    if (this.isConnected) {\r\n      this.#updateState()\r\n    }\r\n  }\r\n\r\n  #handleClick = () => {\r\n    if (this.disabled) return\r\n    this.toggle()\r\n  }\r\n\r\n  #handleKeydown = (e) => {\r\n    if (this.disabled) return\r\n\r\n    if (e.key === ' ' || e.key === 'Enter') {\r\n      e.preventDefault()\r\n      this.toggle()\r\n    }\r\n  }\r\n\r\n  #updateState() {\r\n    this.setAttribute('aria-checked', String(this.checked))\r\n    this.setAttribute('aria-disabled', String(this.disabled))\r\n  }\r\n\r\n  /**\r\n   * Toggle the checked state.\r\n   * Dispatches a 'change' event with the new state.\r\n   */\r\n  toggle() {\r\n    const willCheck = !this.checked\r\n\r\n    if (willCheck) {\r\n      this.setAttribute('checked', '')\r\n    } else {\r\n      this.removeAttribute('checked')\r\n    }\r\n\r\n    this.dispatchEvent(new CustomEvent('change', {\r\n      bubbles: true,\r\n      detail: { checked: willCheck }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Get/set the checked state.\r\n   * @type {boolean}\r\n   */\r\n  get checked() {\r\n    return this.hasAttribute('checked')\r\n  }\r\n\r\n  set checked(value) {\r\n    if (value) {\r\n      this.setAttribute('checked', '')\r\n    } else {\r\n      this.removeAttribute('checked')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get/set the disabled state.\r\n   * @type {boolean}\r\n   */\r\n  get disabled() {\r\n    return this.hasAttribute('disabled')\r\n  }\r\n\r\n  set disabled(value) {\r\n    if (value) {\r\n      this.setAttribute('disabled', '')\r\n    } else {\r\n      this.removeAttribute('disabled')\r\n    }\r\n  }\r\n}\r\n\r\ncustomElements.define('ytz-toggle', YtzToggle)\r\n\r\nexport { YtzToggle }\r\n"]}