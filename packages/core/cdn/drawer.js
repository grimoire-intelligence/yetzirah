var d='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])';function h(s){function t(i){if(i.key!=="Tab")return;let e=[...s.querySelectorAll(d)].filter(a=>!a.hidden&&!a.closest("[hidden]"));if(e.length===0)return;let o=e[0],r=e[e.length-1];i.shiftKey&&document.activeElement===o?(i.preventDefault(),r.focus()):!i.shiftKey&&document.activeElement===r&&(i.preventDefault(),o.focus());}return {activate(){s.addEventListener("keydown",t);},deactivate(){s.removeEventListener("keydown",t);}}}var l='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])',c=["left","right","top","bottom"],n=class extends HTMLElement{static observedAttributes=["open","anchor"];#e=null;#t=null;#i="";connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true"),this.hidden=!this.hasAttribute("open"),this.hasAttribute("anchor")||this.setAttribute("anchor","left"),this.addEventListener("click",this.#o);}disconnectedCallback(){this.removeEventListener("click",this.#o),this.#s();}attributeChangedCallback(t,i,e){t==="open"&&this.isConnected&&(e!==null?this.#r():this.#a()),t==="anchor"&&e&&!c.includes(e)&&this.setAttribute("anchor","left");}#r(){this.#e=document.activeElement,this.hidden=false,this.#i=document.body.style.overflow,document.body.style.overflow="hidden",this.#t=h(this),this.#t.activate(),document.addEventListener("keydown",this.#n),requestAnimationFrame(()=>{let t=this.querySelector(l);t?t.focus():(this.setAttribute("tabindex","-1"),this.focus());});}#a(){this.hidden=true,this.#s(),this.dispatchEvent(new CustomEvent("close",{bubbles:true}));}#s(){document.body.style.overflow=this.#i,this.#t?.deactivate(),this.#t=null,document.removeEventListener("keydown",this.#n),this.#e?.focus(),this.#e=null;}#n=t=>{t.key==="Escape"&&this.hasAttribute("open")&&(t.preventDefault(),this.removeAttribute("open"));};#o=t=>{t.target===this&&!this.hasAttribute("static")&&this.removeAttribute("open");};get open(){return this.hasAttribute("open")}set open(t){t?this.setAttribute("open",""):this.removeAttribute("open");}get anchor(){return this.getAttribute("anchor")||"left"}set anchor(t){c.includes(t)&&this.setAttribute("anchor",t);}close(){this.removeAttribute("open");}show(){this.setAttribute("open","");}};customElements.define("ytz-drawer",n);export{n as YtzDrawer};//# sourceMappingURL=drawer.js.map
//# sourceMappingURL=drawer.js.map