{"version":3,"sources":["../src/utils/register.js","../src/accordion.js","../src/utils/position.js","../src/utils/key-nav.js","../src/utils/click-outside.js","../src/autocomplete.js","../src/badge.js","../src/button.js","../src/chip.js","../src/utils/virtual-scroll.js","../src/datagrid.js","../src/utils/focus-trap.js","../src/dialog.js","../src/disclosure.js","../src/drawer.js","../src/icon-button.js","../src/listbox.js","../src/menu.js","../src/popover.js","../src/progress.js","../src/select.js","../src/slider.js","../src/snackbar.js","../src/tabs.js","../src/toggle.js","../src/theme-toggle.js","../src/tooltip.js","../src/index.js","../src/cdn-entry.js"],"names":["register","name","constructor","accordionItemId","YtzAccordion","#handleItemToggle","value","e","openedItem","item","YtzAccordionItem","#trigger","#content","#contentId","#setup","#updateState","#handleClick","oldVal","newVal","isOpen","willOpen","position","anchor","floating","options","placement","offset","anchorRect","floatingRect","viewport","x","y","finalPlacement","createKeyNav","getItems","orientation","wrap","autoActivate","onActivate","prevKey","nextKey","items","currentIndex","newIndex","clickOutside","element","callback","ignore","handleClick","autocompleteId","YtzAutocomplete","#input","#listbox","#listboxId","#keyNav","#clickOutsideHandler","#selected","#justClosed","#cleanup","#showListbox","#hideListbox","#updateLoadingState","v","val","#updateSelectedState","opt","#handleInput","#handleInputFocus","#handleInputKeyDown","#handleKeyDown","#handleOptionClick","#filterOptions","firstOption","#selectOption","focused","option","isSelected","query","text","#updatePosition","loadingSlot","label","disabled","YtzOption","VALID_POSITIONS","YtzBadge","#indicator","#createIndicator","#update","rawValue","max","pos","isHidden","mode","displayValue","numValue","attr","num","ANCHOR_DEFAULTS","BUTTON_DEFAULTS","YtzButton","#render","href","userClass","isAnchor","el","defaults","#contentCache","YtzChip","#deleteButton","#handleDelete","#handleKeydown","createVirtualScroller","container","content","itemCount","itemHeight","renderItem","buffer","scrollTop","renderedRange","rafId","totalHeight","calculateVisibleRange","containerHeight","start","visibleCount","end","render","range","i","handleScroll","scrollToIndex","index","targetTop","currentScrollTop","destroy","refresh","newTotalHeight","YtzDatagridColumn","YtzDatagrid","#data","#filteredData","#columns","#sortState","#filterState","#virtualScroller","#header","#body","#viewport","#focusedRow","#focusedCol","#columnWidths","#resizeState","#handleResizeMove","#handleResizeEnd","#createStructure","columns","col","#renderHeader","#applyFiltersAndSort","#initVirtualScroller","cell","storedWidth","#handleSort","indicator","input","resizeHandle","#handleResizeStart","field","headerCell","startX","startWidth","delta","newWidth","#updateBodyColumnWidths","#extractNumber","cleaned","row","colIndex","result","searchLower","direction","a","b","aVal","bVal","aNum","bNum","cmp","rowHeight","#renderRow","rowData","#updateFocus","maxRow","maxCol","#applyFocusStyling","targetRow","headers","rows","filename","csv","blob","url","link","FOCUSABLE","createFocusTrap","handleKeydown","focusable","first","last","YtzDialog","#previousFocus","#focusTrap","#previousOverflow","#handleBackdropClick","#open","#close","#handleEscape","firstFocusable","disclosureId","YtzDisclosure","VALID_ANCHORS","YtzDrawer","DEFAULTS","YtzIconButton","#tooltipEl","#checkAccessibility","#removeTooltip","#showTooltip","#hideTooltip","button","isNew","#setupTooltip","rect","listboxId","YtzListbox","#id","#updateDisabledState","#handleFocus","selected","menuId","YtzMenu","#popup","#menuId","#lastCloseTime","#showMenu","#hideMenu","#handleTriggerClick","basePlacement","YtzMenuItem","menu","popoverId","YtzPopover","#show","#hide","#handleOutsideClick","CIRCLE_SIZE","CIRCLE_RADIUS","CIRCLE_CIRCUMFERENCE","YtzProgress","#circleTrack","#circleProgress","#linearTrack","#linearBar","#updateARIA","#updateProgress","#updateSize","#renderLinear","#renderCircular","svg","isIndeterminate","size","clamped","selectId","YtzSelect","#customTrigger","#updateTriggerText","#handleTriggerKeyDown","#handleListboxKeyDown","o","YtzSlider","#track","#thumb","#dragging","#updateDisplay","#handleMouseDown","#handleMouseMove","#handleMouseUp","#handleTouchStart","#handleTouchMove","#handleTouchEnd","#handleTrackClick","step","bigStep","newValue","#dispatchChange","#updateValueFromPointer","touch","clientX","percent","snackbarQueues","YtzSnackbar","#dismissTimer","#closeButton","#isPaused","#pendingDismissReason","#setupCloseButton","#handleMouseEnter","#handleMouseLeave","reason","#removeFromQueue","#addToQueue","#handleClose","#clearTimer","#startTimer","queue","#enforceMaxVisible","#updateOffsets","snackbar","height","message","closeBtn","tabId","YtzTabs","#setupKeyNav","firstTab","#updateSelection","tab","panel","YtzTab","panelId","tabs","YtzTabPanel","#linkToTab","YtzToggle","willCheck","DEFAULT_STORAGE_KEY","DARK_CLASS","THEME_ATTR","YtzThemeToggle","#toggle","#initializeTheme","#handleChange","savedTheme","#loadTheme","prefersDark","isDark","#applyTheme","#updateToggle","#saveTheme","root","theme","tooltipId","YtzTooltip","#showTimeout","#hideTimeout","#isVisible","#handleContentMouseEnter","#handleFocusIn","#handleFocusOut","VERSION","getRegistrationStatus","components","status","whenAllDefined"],"mappings":"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","file":"auto.js","sourcesContent":["/**\n * Idempotent custom element registration utility.\n * Prevents duplicate registration errors when scripts load multiple times.\n *\n * @module @grimoire/yetzirah-core/utils/register\n * @internal Not exported from package\n */\n\n/**\n * Register a custom element if not already registered.\n * Safe to call multiple times with the same name.\n *\n * @param {string} name - Custom element tag name (e.g., 'ytz-button')\n * @param {CustomElementConstructor} constructor - The element class\n */\nexport function register(name, constructor) {\n  if (!customElements.get(name)) {\n    customElements.define(name, constructor)\n  }\n}\n","/**\n * ytz-accordion - Coordinated disclosure container.\n * Manages multiple accordion items with optional exclusive mode.\n *\n * @module @grimoire/yetzirah-core/accordion\n * @example\n * <ytz-accordion>\n *   <ytz-accordion-item>\n *     <button>Section 1</button>\n *     <div>Content 1</div>\n *   </ytz-accordion-item>\n *   <ytz-accordion-item>\n *     <button>Section 2</button>\n *     <div>Content 2</div>\n *   </ytz-accordion-item>\n * </ytz-accordion>\n *\n * @example\n * // Exclusive mode - only one item open at a time\n * <ytz-accordion exclusive>\n *   <ytz-accordion-item open>...</ytz-accordion-item>\n *   <ytz-accordion-item>...</ytz-accordion-item>\n * </ytz-accordion>\n */\n\nimport { register } from './utils/register.js'\n\nlet accordionItemId = 0\n\n/**\n * @class YtzAccordion\n * @extends HTMLElement\n */\nclass YtzAccordion extends HTMLElement {\n  connectedCallback() {\n    this.addEventListener('toggle', this.#handleItemToggle)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('toggle', this.#handleItemToggle)\n  }\n\n  /**\n   * Whether exclusive mode is enabled (only one item open at a time).\n   * @type {boolean}\n   */\n  get exclusive() {\n    return this.hasAttribute('exclusive')\n  }\n\n  set exclusive(value) {\n    if (value) {\n      this.setAttribute('exclusive', '')\n    } else {\n      this.removeAttribute('exclusive')\n    }\n  }\n\n  /**\n   * Get all accordion items.\n   * @returns {YtzAccordionItem[]}\n   */\n  get items() {\n    return Array.from(this.querySelectorAll(':scope > ytz-accordion-item'))\n  }\n\n  /**\n   * Handle toggle event from accordion item.\n   * In exclusive mode, close other items when one opens.\n   * @param {CustomEvent} e\n   */\n  #handleItemToggle = (e) => {\n    if (!this.exclusive || !e.detail.open) return\n\n    const openedItem = e.target\n    this.items.forEach(item => {\n      if (item !== openedItem && item.open) {\n        item.open = false\n      }\n    })\n  }\n}\n\n/**\n * ytz-accordion-item - Individual accordion panel.\n * Functions like ytz-disclosure but coordinates with parent accordion.\n *\n * @attr open - When present, content is visible\n *\n * @example\n * <ytz-accordion-item>\n *   <button>Toggle Section</button>\n *   <div>\n *     <div>Content goes here...</div>\n *   </div>\n * </ytz-accordion-item>\n */\nclass YtzAccordionItem extends HTMLElement {\n  static observedAttributes = ['open']\n\n  /** @type {HTMLElement|null} */\n  #trigger = null\n  /** @type {HTMLElement|null} */\n  #content = null\n  /** @type {string|null} */\n  #contentId = null\n\n  connectedCallback() {\n    this.#setup()\n    this.#updateState()\n  }\n\n  disconnectedCallback() {\n    this.#trigger?.removeEventListener('click', this.#handleClick)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (name === 'open' && this.isConnected) {\n      this.#updateState()\n    }\n  }\n\n  #setup() {\n    // Find trigger (first button) and content (next sibling element)\n    this.#trigger = this.querySelector('button')\n    this.#content = this.#trigger?.nextElementSibling\n\n    if (!this.#trigger || !this.#content) return\n\n    // Generate unique ID for content if needed\n    this.#contentId = this.#content.id || `ytz-accordion-content-${++accordionItemId}`\n    this.#content.id = this.#contentId\n\n    // Generate ID for trigger if needed (for aria-labelledby on content)\n    this.#trigger.id = this.#trigger.id || `ytz-accordion-trigger-${accordionItemId}`\n\n    // Set up ARIA attributes\n    this.#trigger.setAttribute('aria-controls', this.#contentId)\n    this.#content.setAttribute('aria-labelledby', this.#trigger.id)\n    this.#content.setAttribute('role', 'region')\n\n    // Attach click listener\n    this.#trigger.addEventListener('click', this.#handleClick)\n  }\n\n  #handleClick = () => {\n    this.toggle()\n  }\n\n  #updateState() {\n    const isOpen = this.hasAttribute('open')\n\n    if (this.#trigger) {\n      this.#trigger.setAttribute('aria-expanded', String(isOpen))\n    }\n\n    if (this.#content) {\n      this.#content.hidden = !isOpen\n    }\n  }\n\n  /**\n   * Toggle the accordion item open/closed state.\n   * Dispatches a 'toggle' event with the new state.\n   */\n  toggle() {\n    const willOpen = !this.hasAttribute('open')\n\n    if (willOpen) {\n      this.setAttribute('open', '')\n    } else {\n      this.removeAttribute('open')\n    }\n\n    this.dispatchEvent(new CustomEvent('toggle', {\n      bubbles: true,\n      detail: { open: willOpen }\n    }))\n  }\n\n  /**\n   * Get/set the open state.\n   * @type {boolean}\n   */\n  get open() {\n    return this.hasAttribute('open')\n  }\n\n  set open(value) {\n    if (value) {\n      this.setAttribute('open', '')\n    } else {\n      this.removeAttribute('open')\n    }\n  }\n}\n\nregister('ytz-accordion', YtzAccordion)\nregister('ytz-accordion-item', YtzAccordionItem)\n\nexport { YtzAccordion, YtzAccordionItem }\n","/**\n * Position utility for tooltips, menus, popovers.\n * Places an element relative to an anchor with flip/shift logic.\n *\n * @module @grimoire/yetzirah-core/utils/position\n * @internal Not exported from package\n *\n * Limitations (by design):\n * - Does not handle nested scroll containers\n * - Does not support virtual elements\n * - No middleware system\n */\n\n/**\n * Position a floating element relative to an anchor.\n *\n * @param {HTMLElement} anchor - Element to position relative to\n * @param {HTMLElement} floating - Element to position\n * @param {Object} [options] - Positioning options\n * @param {'top'|'bottom'|'left'|'right'} [options.placement='top'] - Preferred placement\n * @param {number} [options.offset=8] - Gap between anchor and floating element\n * @returns {{ x: number, y: number, placement: string }}\n */\nexport function position(anchor, floating, options = {}) {\n  const { placement = 'top', offset = 8 } = options\n\n  const anchorRect = anchor.getBoundingClientRect()\n  const floatingRect = floating.getBoundingClientRect()\n  const viewport = { width: window.innerWidth, height: window.innerHeight }\n\n  let x, y\n  let finalPlacement = placement\n\n  // Calculate position based on placement\n  switch (placement) {\n    case 'top':\n      x = anchorRect.left + (anchorRect.width - floatingRect.width) / 2\n      y = anchorRect.top - floatingRect.height - offset\n      break\n    case 'bottom':\n      x = anchorRect.left + (anchorRect.width - floatingRect.width) / 2\n      y = anchorRect.bottom + offset\n      break\n    case 'left':\n      x = anchorRect.left - floatingRect.width - offset\n      y = anchorRect.top + (anchorRect.height - floatingRect.height) / 2\n      break\n    case 'right':\n      x = anchorRect.right + offset\n      y = anchorRect.top + (anchorRect.height - floatingRect.height) / 2\n      break\n  }\n\n  // Flip if outside viewport\n  if (placement === 'top' && y < 0) {\n    y = anchorRect.bottom + offset\n    finalPlacement = 'bottom'\n  } else if (placement === 'bottom' && y + floatingRect.height > viewport.height) {\n    y = anchorRect.top - floatingRect.height - offset\n    finalPlacement = 'top'\n  } else if (placement === 'left' && x < 0) {\n    x = anchorRect.right + offset\n    finalPlacement = 'right'\n  } else if (placement === 'right' && x + floatingRect.width > viewport.width) {\n    x = anchorRect.left - floatingRect.width - offset\n    finalPlacement = 'left'\n  }\n\n  // Shift to stay in viewport\n  if (finalPlacement === 'top' || finalPlacement === 'bottom') {\n    x = Math.max(0, Math.min(x, viewport.width - floatingRect.width))\n  } else {\n    y = Math.max(0, Math.min(y, viewport.height - floatingRect.height))\n  }\n\n  return { x, y, placement: finalPlacement }\n}\n","/**\n * Keyboard navigation utility for arrow key navigation.\n * @module @grimoire/yetzirah-core/utils/key-nav\n * @internal Not exported from package\n */\n\n/**\n * Creates keyboard navigation for a set of elements.\n * @param {() => HTMLElement[]} getItems - Function returning navigable elements\n * @param {Object} options\n * @param {'horizontal'|'vertical'} [options.orientation='horizontal']\n * @param {boolean} [options.wrap=true]\n * @param {boolean} [options.autoActivate=true]\n * @param {(item: HTMLElement) => void} [options.onActivate]\n * @returns {{ handleKeyDown: (e: KeyboardEvent) => void }}\n */\nexport function createKeyNav(getItems, options = {}) {\n  const { orientation = 'horizontal', wrap = true, autoActivate = true, onActivate } = options\n  const prevKey = orientation === 'horizontal' ? 'ArrowLeft' : 'ArrowUp'\n  const nextKey = orientation === 'horizontal' ? 'ArrowRight' : 'ArrowDown'\n\n  return {\n    handleKeyDown(e) {\n      const items = getItems()\n      const currentIndex = items.indexOf(document.activeElement)\n      if (currentIndex === -1) return\n\n      let newIndex = currentIndex\n      if (e.key === prevKey) {\n        newIndex = currentIndex - 1\n        if (newIndex < 0) newIndex = wrap ? items.length - 1 : 0\n      } else if (e.key === nextKey) {\n        newIndex = currentIndex + 1\n        if (newIndex >= items.length) newIndex = wrap ? 0 : items.length - 1\n      } else if (e.key === 'Home') {\n        newIndex = 0\n      } else if (e.key === 'End') {\n        newIndex = items.length - 1\n      } else {\n        return\n      }\n\n      e.preventDefault()\n      items[newIndex].focus()\n      if (autoActivate && onActivate) onActivate(items[newIndex])\n    }\n  }\n}\n","/**\n * Click outside utility for dismissing popups.\n * @module @grimoire/yetzirah-core/utils/click-outside\n * @internal Not exported from package\n */\n\n/**\n * Creates a click outside listener.\n * @param {HTMLElement} element - Element to detect clicks outside of\n * @param {Function} callback - Called when click outside occurs\n * @param {Object} [options]\n * @param {HTMLElement} [options.ignore] - Additional element to ignore clicks on (e.g., trigger)\n * @returns {{ destroy: () => void }}\n */\nexport function clickOutside(element, callback, options = {}) {\n  const { ignore } = options\n\n  const handleClick = (e) => {\n    if (element.contains(e.target)) return\n    if (ignore && ignore.contains(e.target)) return\n    callback(e)\n  }\n\n  // Use capture to catch clicks before they're stopped\n  document.addEventListener('click', handleClick, true)\n\n  return {\n    destroy() {\n      document.removeEventListener('click', handleClick, true)\n    }\n  }\n}\n","/**\n * ytz-autocomplete - Text input with filterable dropdown selection.\n * Supports single and multi-select modes with async loading.\n *\n * @module @grimoire/yetzirah-core/autocomplete\n * @example\n * <ytz-autocomplete>\n *   <input slot=\"input\" placeholder=\"Search...\">\n *   <ytz-option value=\"apple\">Apple</ytz-option>\n *   <ytz-option value=\"banana\">Banana</ytz-option>\n * </ytz-autocomplete>\n *\n * @example\n * // Multi-select mode\n * <ytz-autocomplete multiple>\n *   <input slot=\"input\" placeholder=\"Select...\">\n *   <ytz-option value=\"a\">Option A</ytz-option>\n *   <ytz-option value=\"b\">Option B</ytz-option>\n * </ytz-autocomplete>\n */\n\nimport { position } from './utils/position.js'\nimport { createKeyNav } from './utils/key-nav.js'\nimport { clickOutside } from './utils/click-outside.js'\nimport { register } from './utils/register.js'\n\nlet autocompleteId = 0\n\n/**\n * @class YtzAutocomplete\n * @extends HTMLElement\n */\nclass YtzAutocomplete extends HTMLElement {\n  static observedAttributes = ['open', 'multiple', 'loading']\n\n  /** @type {HTMLInputElement|null} */\n  #input = null\n  /** @type {HTMLElement|null} */\n  #listbox = null\n  /** @type {string|null} */\n  #listboxId = null\n  /** @type {ReturnType<typeof createKeyNav>|null} */\n  #keyNav = null\n  /** @type {ReturnType<typeof clickOutside>|null} */\n  #clickOutsideHandler = null\n  /** @type {Set<string>} */\n  #selected = new Set()\n  /** @type {boolean} - Flag to prevent focus from re-opening after selection */\n  #justClosed = false\n\n  connectedCallback() {\n    this.#setup()\n  }\n\n  disconnectedCallback() {\n    this.#cleanup()\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n    if (name === 'open') {\n      newVal !== null ? this.#showListbox() : this.#hideListbox()\n    }\n    if (name === 'loading') {\n      this.#updateLoadingState()\n    }\n  }\n\n  /** @returns {boolean} */\n  get open() { return this.hasAttribute('open') }\n  set open(v) { v ? this.setAttribute('open', '') : this.removeAttribute('open') }\n\n  /** @returns {boolean} */\n  get multiple() { return this.hasAttribute('multiple') }\n  set multiple(v) { v ? this.setAttribute('multiple', '') : this.removeAttribute('multiple') }\n\n  /** @returns {boolean} */\n  get loading() { return this.hasAttribute('loading') }\n  set loading(v) { v ? this.setAttribute('loading', '') : this.removeAttribute('loading') }\n\n  /** @returns {boolean} */\n  get filter() { return this.getAttribute('filter') !== 'false' }\n  set filter(v) { this.setAttribute('filter', (v && v !== 'false') ? 'true' : 'false') }\n\n  /** @returns {string|string[]} */\n  get value() {\n    return this.multiple ? [...this.#selected] : ([...this.#selected][0] || '')\n  }\n  set value(v) {\n    this.#selected.clear()\n    if (Array.isArray(v)) {\n      v.forEach(val => this.#selected.add(val))\n    } else if (v) {\n      this.#selected.add(v)\n    }\n    this.#updateSelectedState()\n  }\n\n  /** @returns {string} */\n  get inputValue() { return this.#input?.value || '' }\n  set inputValue(v) { if (this.#input) this.#input.value = v }\n\n  #setup() {\n    this.#input = this.querySelector('[slot=\"input\"]') || this.querySelector('input')\n    if (!this.#input) return\n\n    this.#listboxId = `ytz-autocomplete-${++autocompleteId}`\n\n    // Create listbox wrapper\n    this.#listbox = document.createElement('div')\n    this.#listbox.setAttribute('role', 'listbox')\n    this.#listbox.id = this.#listboxId\n    this.#listbox.hidden = true\n    if (this.multiple) {\n      this.#listbox.setAttribute('aria-multiselectable', 'true')\n    }\n\n    // Move option children into listbox\n    const options = [...this.querySelectorAll('ytz-option')]\n    options.forEach(opt => this.#listbox.appendChild(opt))\n    this.appendChild(this.#listbox)\n\n    // ARIA on input\n    this.#input.setAttribute('role', 'combobox')\n    this.#input.setAttribute('aria-autocomplete', 'list')\n    this.#input.setAttribute('aria-controls', this.#listboxId)\n    this.#input.setAttribute('aria-expanded', 'false')\n    this.#input.setAttribute('aria-haspopup', 'listbox')\n\n    // Keyboard navigation\n    this.#keyNav = createKeyNav(\n      () => [...this.#listbox.querySelectorAll('ytz-option:not([hidden]):not([disabled])')],\n      { orientation: 'vertical', wrap: true, autoActivate: false }\n    )\n\n    this.#input.addEventListener('input', this.#handleInput)\n    this.#input.addEventListener('focus', this.#handleInputFocus)\n    this.#input.addEventListener('keydown', this.#handleInputKeyDown)\n    this.addEventListener('keydown', this.#handleKeyDown)\n    this.addEventListener('option-click', this.#handleOptionClick)\n\n    // Read initial selected state from HTML\n    this.#listbox.querySelectorAll('ytz-option[selected]').forEach(opt => {\n      const value = opt.getAttribute('value') || opt.textContent?.trim()\n      if (value) this.#selected.add(value)\n    })\n    this.#updateSelectedState()\n\n    // Initialize loading slot visibility\n    this.#updateLoadingState()\n  }\n\n  #cleanup() {\n    this.#input?.removeEventListener('input', this.#handleInput)\n    this.#input?.removeEventListener('focus', this.#handleInputFocus)\n    this.#input?.removeEventListener('keydown', this.#handleInputKeyDown)\n    this.removeEventListener('keydown', this.#handleKeyDown)\n    this.removeEventListener('option-click', this.#handleOptionClick)\n    this.#clickOutsideHandler?.destroy()\n  }\n\n  #handleInput = () => {\n    if (!this.open) this.open = true\n    if (this.filter) this.#filterOptions()\n    this.dispatchEvent(new CustomEvent('input-change', {\n      bubbles: true,\n      detail: { value: this.#input.value }\n    }))\n  }\n\n  #handleInputFocus = () => {\n    // Don't re-open if we just closed from a selection\n    if (this.#justClosed) {\n      this.#justClosed = false\n      return\n    }\n    const hasOptions = this.#listbox?.querySelector('ytz-option:not([hidden])')\n    if (hasOptions && !this.loading) this.open = true\n  }\n\n  #handleInputKeyDown = (e) => {\n    if (e.key === 'ArrowDown') {\n      e.preventDefault()\n      e.stopPropagation() // Prevent bubbling to #handleKeyDown\n      if (!this.open) this.open = true\n      const firstOption = this.#listbox?.querySelector('ytz-option:not([hidden]):not([disabled])')\n      firstOption?.focus()\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault()\n      e.stopPropagation() // Prevent bubbling to #handleKeyDown\n      if (!this.open) this.open = true\n      const options = this.#listbox?.querySelectorAll('ytz-option:not([hidden]):not([disabled])')\n      options?.[options.length - 1]?.focus()\n    } else if (e.key === 'Escape' && this.open) {\n      e.preventDefault()\n      e.stopPropagation()\n      this.open = false\n    } else if (e.key === 'Enter' && this.open) {\n      // Select first visible option on Enter from input\n      const firstOption = this.#listbox?.querySelector('ytz-option:not([hidden]):not([disabled])')\n      if (firstOption) {\n        e.preventDefault()\n        this.#selectOption(firstOption)\n      }\n    }\n  }\n\n  #handleKeyDown = (e) => {\n    if (!this.open) return\n\n    if (e.key === 'Escape') {\n      e.preventDefault()\n      this.open = false\n      this.#input?.focus()\n      return\n    }\n\n    // Handle navigation when option is focused\n    if (document.activeElement?.tagName === 'YTZ-OPTION') {\n      this.#keyNav?.handleKeyDown(e)\n\n      if (e.key === 'Enter' || e.key === ' ') {\n        const focused = this.#listbox?.querySelector('ytz-option:focus')\n        if (focused && !focused.hasAttribute('disabled')) {\n          e.preventDefault()\n          this.#selectOption(focused)\n        }\n      }\n\n      if (e.key === 'Tab') {\n        e.preventDefault()\n        this.#input?.focus()\n      }\n    }\n  }\n\n  #handleOptionClick = (e) => {\n    const option = e.detail?.option\n    if (option && !option.hasAttribute('disabled')) {\n      this.#selectOption(option)\n    }\n  }\n\n  #selectOption(option) {\n    const value = option.getAttribute('value') || option.textContent?.trim()\n    if (!value) return\n\n    if (this.multiple) {\n      if (this.#selected.has(value)) {\n        this.#selected.delete(value)\n      } else {\n        this.#selected.add(value)\n      }\n    } else {\n      this.#selected.clear()\n      this.#selected.add(value)\n      this.#input.value = option.textContent?.trim() || value\n      this.#justClosed = true // Prevent focus from re-opening\n      this.open = false\n      this.#input?.focus()\n    }\n\n    this.#updateSelectedState()\n\n    this.dispatchEvent(new CustomEvent('change', {\n      bubbles: true,\n      detail: { value: this.value, option }\n    }))\n  }\n\n  #updateSelectedState() {\n    const options = this.#listbox?.querySelectorAll('ytz-option') || []\n    options.forEach(opt => {\n      const value = opt.getAttribute('value') || opt.textContent?.trim()\n      const isSelected = this.#selected.has(value)\n      opt.toggleAttribute('selected', isSelected)\n      opt.setAttribute('aria-selected', String(isSelected))\n    })\n  }\n\n  #filterOptions() {\n    const query = this.#input?.value.toLowerCase() || ''\n    const options = this.#listbox?.querySelectorAll('ytz-option') || []\n\n    options.forEach(opt => {\n      const text = opt.textContent?.toLowerCase() || ''\n      opt.hidden = !text.includes(query)\n    })\n  }\n\n  #showListbox() {\n    if (!this.#input || !this.#listbox) return\n\n    this.#listbox.hidden = false\n    this.#input.setAttribute('aria-expanded', 'true')\n    this.#updatePosition()\n\n    this.#clickOutsideHandler = clickOutside(this, () => {\n      this.open = false\n    })\n\n    window.addEventListener('scroll', this.#updatePosition, { passive: true, capture: true })\n    window.addEventListener('resize', this.#updatePosition, { passive: true })\n\n    this.dispatchEvent(new CustomEvent('open', { bubbles: true }))\n  }\n\n  #hideListbox() {\n    if (!this.#input || !this.#listbox) return\n\n    this.#listbox.hidden = true\n    this.#input.setAttribute('aria-expanded', 'false')\n\n    this.#clickOutsideHandler?.destroy()\n    this.#clickOutsideHandler = null\n    window.removeEventListener('scroll', this.#updatePosition, { capture: true })\n    window.removeEventListener('resize', this.#updatePosition)\n\n    this.dispatchEvent(new CustomEvent('close', { bubbles: true }))\n  }\n\n  #updatePosition = () => {\n    if (!this.#input || !this.#listbox) return\n\n    const { x, y } = position(this.#input, this.#listbox, {\n      placement: 'bottom',\n      offset: 4\n    })\n\n    this.#listbox.style.position = 'fixed'\n    this.#listbox.style.left = `${x}px`\n    this.#listbox.style.top = `${y}px`\n    this.#listbox.style.minWidth = `${this.#input.offsetWidth}px`\n  }\n\n  #updateLoadingState() {\n    const loadingSlot = this.querySelector('[slot=\"loading\"]')\n    if (loadingSlot) {\n      loadingSlot.hidden = !this.loading\n    }\n  }\n\n  show() { this.open = true }\n  hide() { this.open = false }\n  toggle() { this.open = !this.open }\n\n  clear() {\n    this.#selected.clear()\n    this.#updateSelectedState()\n    if (this.#input) this.#input.value = ''\n    this.dispatchEvent(new CustomEvent('clear', { bubbles: true }))\n  }\n\n  /**\n   * Add options programmatically.\n   * @param {Array<{value: string, label: string, disabled?: boolean}>} options\n   */\n  setOptions(options) {\n    if (!this.#listbox) return\n    this.#listbox.innerHTML = ''\n    options.forEach(({ value, label, disabled }) => {\n      const opt = document.createElement('ytz-option')\n      opt.setAttribute('value', value)\n      opt.textContent = label\n      if (disabled) opt.setAttribute('disabled', '')\n      this.#listbox.appendChild(opt)\n    })\n    this.#updateSelectedState()\n  }\n}\n\n/**\n * ytz-option - Individual option in autocomplete.\n * @attr value - Option value\n * @attr disabled - When present, option is not selectable\n * @attr selected - When present, option is selected\n */\nclass YtzOption extends HTMLElement {\n  connectedCallback() {\n    this.setAttribute('role', 'option')\n    if (!this.hasAttribute('tabindex') && !this.hasAttribute('disabled')) {\n      this.setAttribute('tabindex', '-1')\n    }\n    if (this.hasAttribute('disabled')) {\n      this.setAttribute('aria-disabled', 'true')\n    }\n    this.setAttribute('aria-selected', this.hasAttribute('selected') ? 'true' : 'false')\n    this.addEventListener('click', this.#handleClick)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this.#handleClick)\n  }\n\n  #handleClick = (e) => {\n    if (this.hasAttribute('disabled')) {\n      e.preventDefault()\n      e.stopPropagation()\n      return\n    }\n    this.dispatchEvent(new CustomEvent('option-click', {\n      bubbles: true,\n      detail: { option: this }\n    }))\n  }\n\n  /** @returns {boolean} */\n  get disabled() { return this.hasAttribute('disabled') }\n  set disabled(v) {\n    if (v) {\n      this.setAttribute('disabled', '')\n      this.setAttribute('aria-disabled', 'true')\n      this.removeAttribute('tabindex')\n    } else {\n      this.removeAttribute('disabled')\n      this.removeAttribute('aria-disabled')\n      this.setAttribute('tabindex', '-1')\n    }\n  }\n\n  /** @returns {boolean} */\n  get selected() { return this.hasAttribute('selected') }\n  set selected(v) {\n    v ? this.setAttribute('selected', '') : this.removeAttribute('selected')\n    this.setAttribute('aria-selected', String(v))\n  }\n\n  /** @returns {string|null} */\n  get value() { return this.getAttribute('value') }\n  set value(v) { v ? this.setAttribute('value', v) : this.removeAttribute('value') }\n}\n\nregister('ytz-autocomplete', YtzAutocomplete)\nregister('ytz-option', YtzOption)\n\nexport { YtzAutocomplete, YtzOption }\n","/**\n * ytz-badge - Notification badge Web Component.\n * Overlays a count or dot indicator on slotted content.\n *\n * @module @grimoire/yetzirah-core/badge\n * @example\n * // Dot badge (no value)\n * <ytz-badge>\n *   <button>Messages</button>\n * </ytz-badge>\n *\n * @example\n * // Count badge\n * <ytz-badge value=\"5\">\n *   <button>Notifications</button>\n * </ytz-badge>\n *\n * @example\n * // Max cap badge\n * <ytz-badge value=\"150\" max=\"99\">\n *   <button>Inbox</button>\n * </ytz-badge>\n */\n\nimport { register } from './utils/register.js'\n\n/** Valid position values */\nconst VALID_POSITIONS = ['top-right', 'top-left', 'bottom-right', 'bottom-left']\n\n/**\n * @class YtzBadge\n * @extends HTMLElement\n */\nclass YtzBadge extends HTMLElement {\n  static observedAttributes = ['value', 'max', 'position', 'hidden']\n\n  /** @type {HTMLSpanElement|null} */\n  #indicator = null\n\n  connectedCallback() {\n    this.#createIndicator()\n    this.#update()\n  }\n\n  disconnectedCallback() {\n    this.#indicator?.remove()\n    this.#indicator = null\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (this.isConnected) {\n      this.#update()\n    }\n  }\n\n  #createIndicator() {\n    this.#indicator = document.createElement('span')\n    this.#indicator.className = 'ytz-badge-indicator'\n    this.#indicator.setAttribute('aria-hidden', 'true')\n    this.appendChild(this.#indicator)\n  }\n\n  #update() {\n    if (!this.#indicator) return\n\n    const rawValue = this.getAttribute('value')\n    const max = this.max\n    const pos = this.position\n    const isHidden = this.hasAttribute('hidden')\n\n    // Determine mode and display value\n    let mode\n    let displayValue = ''\n\n    if (rawValue === null) {\n      // No value = dot mode\n      mode = 'dot'\n    } else if (rawValue === '0') {\n      // Zero = hidden\n      mode = 'hidden'\n    } else {\n      // Count mode\n      mode = 'count'\n      const numValue = parseInt(rawValue, 10)\n\n      if (!isNaN(numValue) && max !== null && numValue > max) {\n        displayValue = `${max}+`\n      } else {\n        displayValue = rawValue\n      }\n    }\n\n    // Apply visibility\n    if (mode === 'hidden' || isHidden) {\n      this.#indicator.hidden = true\n    } else {\n      this.#indicator.hidden = false\n    }\n\n    // Set data attributes for styling\n    this.#indicator.setAttribute('data-mode', mode)\n    this.#indicator.setAttribute('data-position', pos)\n\n    // Set content for count mode\n    this.#indicator.textContent = mode === 'count' ? displayValue : ''\n  }\n\n  // Property getters/setters\n\n  /**\n   * Get/set the badge value. Null/undefined = dot mode, \"0\" = hidden.\n   * @type {string|number|null}\n   */\n  get value() {\n    return this.getAttribute('value')\n  }\n\n  set value(val) {\n    if (val === null || val === undefined) {\n      this.removeAttribute('value')\n    } else {\n      this.setAttribute('value', String(val))\n    }\n  }\n\n  /**\n   * Get/set the maximum displayed value. Shows \"max+\" when exceeded.\n   * @type {number|null}\n   */\n  get max() {\n    const attr = this.getAttribute('max')\n    if (attr === null) return null\n    const num = parseInt(attr, 10)\n    return isNaN(num) ? null : num\n  }\n\n  set max(val) {\n    if (val === null || val === undefined) {\n      this.removeAttribute('max')\n    } else {\n      this.setAttribute('max', String(val))\n    }\n  }\n\n  /**\n   * Get/set the badge position relative to child content.\n   * @type {string}\n   */\n  get position() {\n    const pos = this.getAttribute('position')\n    return VALID_POSITIONS.includes(pos) ? pos : 'top-right'\n  }\n\n  set position(val) {\n    if (VALID_POSITIONS.includes(val)) {\n      this.setAttribute('position', val)\n    }\n  }\n}\n\nregister('ytz-badge', YtzBadge)\n\nexport { YtzBadge }\n","/**\n * ytz-button - Polymorphic button/anchor Web Component.\n * Renders <a> when href provided, <button> otherwise.\n *\n * @module @grimoire/yetzirah-core/button\n * @example\n * // Link button\n * <ytz-button href=\"/dashboard\" class=\"ph3 pv2 br2 white bg-blue\">Dashboard</ytz-button>\n *\n * @example\n * // Action button\n * <ytz-button onclick=\"handleSubmit()\" class=\"ph3 pv2 br2 white bg-blue\">Submit</ytz-button>\n */\n\nimport { register } from './utils/register.js'\n\n/** @type {string} Default classes for anchor elements */\nconst ANCHOR_DEFAULTS = 'pointer font-inherit no-underline dib'\n\n/** @type {string} Default classes for button elements (no border reset - user controls borders) */\nconst BUTTON_DEFAULTS = 'pointer font-inherit bg-transparent'\n\n/**\n * @class YtzButton\n * @extends HTMLElement\n */\nclass YtzButton extends HTMLElement {\n  connectedCallback() {\n    this.#render()\n  }\n\n  static get observedAttributes() {\n    return ['href', 'disabled', 'type', 'class']\n  }\n\n  attributeChangedCallback() {\n    if (this.isConnected) this.#render()\n  }\n\n  #render() {\n    const href = this.getAttribute('href')\n    const userClass = this.getAttribute('class') || ''\n    const isAnchor = href != null\n\n    const el = document.createElement(isAnchor ? 'a' : 'button')\n    const defaults = isAnchor ? ANCHOR_DEFAULTS : BUTTON_DEFAULTS\n    el.className = defaults + (userClass ? ' ' + userClass : '')\n\n    if (isAnchor) {\n      el.href = href\n    } else {\n      el.type = this.getAttribute('type') || 'button'\n      if (this.hasAttribute('disabled')) el.disabled = true\n    }\n\n    // Copy aria-* and data-* attributes\n    for (const attr of this.attributes) {\n      if (attr.name.startsWith('aria-') || attr.name.startsWith('data-')) {\n        el.setAttribute(attr.name, attr.value)\n      }\n    }\n\n    el.innerHTML = this.#contentCache || this.innerHTML\n    this.#contentCache = el.innerHTML\n\n    this.replaceChildren(el)\n  }\n\n  /** @type {string|null} Cache innerHTML to preserve across re-renders */\n  #contentCache = null\n}\n\nregister('ytz-button', YtzButton)\n\nexport { YtzButton }\n","/**\n * ytz-chip - Deletable tag/label Web Component.\n * A chip with optional delete button and keyboard support.\n *\n * @module @grimoire/yetzirah-core/chip\n * @example\n * <ytz-chip>Tag</ytz-chip>\n *\n * @example\n * // Deletable chip\n * <ytz-chip deletable>Remove me</ytz-chip>\n *\n * @example\n * // Disabled chip\n * <ytz-chip deletable disabled>Can't delete</ytz-chip>\n */\n\nimport { register } from './utils/register.js'\n\n/**\n * @class YtzChip\n * @extends HTMLElement\n */\nclass YtzChip extends HTMLElement {\n  static observedAttributes = ['deletable', 'disabled']\n\n  /** @type {HTMLButtonElement|null} */\n  #deleteButton = null\n\n  connectedCallback() {\n    this.#setup()\n  }\n\n  disconnectedCallback() {\n    this.#deleteButton?.removeEventListener('click', this.#handleDelete)\n    this.removeEventListener('keydown', this.#handleKeydown)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (this.isConnected) {\n      this.#setup()\n    }\n  }\n\n  #setup() {\n    // Remove existing delete button if any\n    this.#deleteButton?.remove()\n    this.#deleteButton = null\n\n    // Add delete button if deletable\n    if (this.hasAttribute('deletable')) {\n      this.#deleteButton = document.createElement('button')\n      this.#deleteButton.type = 'button'\n      this.#deleteButton.setAttribute('aria-label', 'Delete')\n      this.#deleteButton.className = 'ytz-chip-delete'\n      this.#deleteButton.textContent = '\\u00D7' //  character\n      this.#deleteButton.disabled = this.disabled\n      this.#deleteButton.addEventListener('click', this.#handleDelete)\n      this.appendChild(this.#deleteButton)\n    }\n\n    // Keyboard support for delete\n    this.removeEventListener('keydown', this.#handleKeydown)\n    if (this.hasAttribute('deletable')) {\n      this.addEventListener('keydown', this.#handleKeydown)\n    }\n  }\n\n  #handleDelete = (e) => {\n    e.stopPropagation()\n    if (this.disabled) return\n\n    this.dispatchEvent(new CustomEvent('delete', {\n      bubbles: true,\n      detail: { chip: this }\n    }))\n  }\n\n  #handleKeydown = (e) => {\n    if (this.disabled) return\n\n    if (e.key === 'Delete' || e.key === 'Backspace') {\n      e.preventDefault()\n      this.dispatchEvent(new CustomEvent('delete', {\n        bubbles: true,\n        detail: { chip: this }\n      }))\n    }\n  }\n\n  /**\n   * Get/set the disabled state.\n   * @type {boolean}\n   */\n  get disabled() {\n    return this.hasAttribute('disabled')\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '')\n    } else {\n      this.removeAttribute('disabled')\n    }\n    if (this.#deleteButton) {\n      this.#deleteButton.disabled = value\n    }\n  }\n\n  /**\n   * Get/set the deletable state.\n   * @type {boolean}\n   */\n  get deletable() {\n    return this.hasAttribute('deletable')\n  }\n\n  set deletable(value) {\n    if (value) {\n      this.setAttribute('deletable', '')\n    } else {\n      this.removeAttribute('deletable')\n    }\n  }\n}\n\nregister('ytz-chip', YtzChip)\n\nexport { YtzChip }\n","/**\n * Virtual Scroll utility for efficient rendering of large lists.\n * Only renders visible items plus a buffer for smooth scrolling.\n *\n * @module @grimoire/yetzirah-core/utils/virtual-scroll\n */\n\n/**\n * Create a virtual scroller instance.\n * @param {Object} options - Configuration options\n * @param {HTMLElement} options.container - Scrollable container element\n * @param {HTMLElement} options.content - Content element to hold rendered items\n * @param {number} options.itemCount - Total number of items\n * @param {number} options.itemHeight - Height of each item in pixels\n * @param {Function} options.renderItem - Function to render an item by index\n * @param {number} [options.buffer=5] - Number of items to render above/below viewport\n * @returns {Object} Virtual scroller instance\n */\nexport function createVirtualScroller({\n  container,\n  content,\n  itemCount,\n  itemHeight,\n  renderItem,\n  buffer = 5\n}) {\n  let scrollTop = 0\n  let renderedRange = { start: 0, end: 0 }\n  let rafId = null\n\n  // Set up content height to enable scrolling\n  const totalHeight = itemCount * itemHeight\n  content.style.height = `${totalHeight}px`\n  content.style.position = 'relative'\n\n  function calculateVisibleRange() {\n    const containerHeight = container.clientHeight\n    const start = Math.max(0, Math.floor(scrollTop / itemHeight) - buffer)\n    const visibleCount = Math.ceil(containerHeight / itemHeight)\n    const end = Math.min(itemCount, start + visibleCount + buffer * 2)\n    return { start, end }\n  }\n\n  function render() {\n    const range = calculateVisibleRange()\n\n    // Skip if range hasn't changed\n    if (range.start === renderedRange.start && range.end === renderedRange.end) {\n      return\n    }\n\n    renderedRange = range\n\n    // Clear and re-render\n    content.innerHTML = ''\n\n    for (let i = range.start; i < range.end; i++) {\n      const item = renderItem(i)\n      if (item) {\n        item.style.position = 'absolute'\n        item.style.top = `${i * itemHeight}px`\n        item.style.height = `${itemHeight}px`\n        item.style.left = '0'\n        item.style.right = '0'\n        content.appendChild(item)\n      }\n    }\n  }\n\n  function handleScroll() {\n    scrollTop = container.scrollTop\n\n    // Use RAF for smooth rendering\n    if (rafId) {\n      cancelAnimationFrame(rafId)\n    }\n    rafId = requestAnimationFrame(render)\n  }\n\n  function scrollToIndex(index) {\n    const targetTop = index * itemHeight\n    const containerHeight = container.clientHeight\n    const currentScrollTop = container.scrollTop\n\n    // Only scroll if item is not fully visible\n    if (targetTop < currentScrollTop) {\n      container.scrollTop = targetTop\n    } else if (targetTop + itemHeight > currentScrollTop + containerHeight) {\n      container.scrollTop = targetTop - containerHeight + itemHeight\n    }\n  }\n\n  function destroy() {\n    container.removeEventListener('scroll', handleScroll)\n    if (rafId) {\n      cancelAnimationFrame(rafId)\n    }\n    content.innerHTML = ''\n  }\n\n  function refresh() {\n    const newTotalHeight = itemCount * itemHeight\n    content.style.height = `${newTotalHeight}px`\n    renderedRange = { start: 0, end: 0 }\n    render()\n  }\n\n  // Initialize\n  container.addEventListener('scroll', handleScroll)\n  render()\n\n  return {\n    scrollToIndex,\n    refresh,\n    destroy,\n    get renderedRange() {\n      return { ...renderedRange }\n    }\n  }\n}\n","/**\n * ytz-datagrid - Data Grid Web Component.\n * Virtual scrolling, sorting, filtering, keyboard navigation, and export.\n *\n * @module @grimoire/yetzirah-core/datagrid\n * @example\n * <ytz-datagrid>\n *   <ytz-datagrid-column field=\"name\" header=\"Name\" sortable></ytz-datagrid-column>\n *   <ytz-datagrid-column field=\"email\" header=\"Email\"></ytz-datagrid-column>\n * </ytz-datagrid>\n *\n * // Set data via JavaScript:\n * grid.data = [{ name: 'John', email: 'john@example.com' }, ...]\n */\n\nimport { createVirtualScroller } from './utils/virtual-scroll.js'\nimport { register } from './utils/register.js'\n\n/**\n * @class YtzDatagridColumn\n * @extends HTMLElement\n */\nclass YtzDatagridColumn extends HTMLElement {\n  get field() { return this.getAttribute('field') || '' }\n  set field(val) { this.setAttribute('field', val) }\n\n  get header() { return this.getAttribute('header') || this.field }\n  set header(val) { this.setAttribute('header', val) }\n\n  get sortable() { return this.hasAttribute('sortable') }\n  set sortable(val) { val ? this.setAttribute('sortable', '') : this.removeAttribute('sortable') }\n\n  get filterable() { return this.hasAttribute('filterable') }\n  set filterable(val) { val ? this.setAttribute('filterable', '') : this.removeAttribute('filterable') }\n\n  get width() { return this.getAttribute('width') || 'auto' }\n  set width(val) { this.setAttribute('width', val) }\n}\n\nregister('ytz-datagrid-column', YtzDatagridColumn)\n\n/**\n * @class YtzDatagrid\n * @extends HTMLElement\n */\nclass YtzDatagrid extends HTMLElement {\n  static observedAttributes = ['row-height', 'page-size']\n\n  /** @type {Array<Object>} */\n  #data = []\n  /** @type {Array<Object>} */\n  #filteredData = []\n  /** @type {Array<YtzDatagridColumn>} */\n  #columns = []\n  /** @type {Object|null} */\n  #sortState = null\n  /** @type {Object} */\n  #filterState = {}\n  /** @type {Object|null} */\n  #virtualScroller = null\n  /** @type {HTMLElement|null} */\n  #header = null\n  /** @type {HTMLElement|null} */\n  #body = null\n  /** @type {HTMLElement|null} */\n  #viewport = null\n  /** @type {number} */\n  #focusedRow = 0\n  /** @type {number} */\n  #focusedCol = 0\n  /** @type {Map<string, number>} */\n  #columnWidths = new Map()\n  /** @type {Object|null} */\n  #resizeState = null\n\n  connectedCallback() {\n    this.#setup()\n  }\n\n  disconnectedCallback() {\n    this.#virtualScroller?.destroy()\n    this.removeEventListener('keydown', this.#handleKeydown)\n    document.removeEventListener('mousemove', this.#handleResizeMove)\n    document.removeEventListener('mouseup', this.#handleResizeEnd)\n  }\n\n  attributeChangedCallback() {\n    if (this.isConnected) {\n      this.#render()\n    }\n  }\n\n  #setup() {\n    // Collect column definitions\n    this.#columns = Array.from(this.querySelectorAll('ytz-datagrid-column'))\n\n    // Set up ARIA\n    this.setAttribute('role', 'grid')\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0')\n    }\n\n    // Create structure\n    this.#createStructure()\n\n    // Event listeners\n    this.addEventListener('keydown', this.#handleKeydown)\n\n    // Initial render\n    this.#render()\n  }\n\n  #createStructure() {\n    // Clear existing content (except columns)\n    const columns = Array.from(this.querySelectorAll('ytz-datagrid-column'))\n    this.innerHTML = ''\n    columns.forEach(col => this.appendChild(col))\n\n    // Create header\n    this.#header = document.createElement('div')\n    this.#header.className = 'ytz-datagrid-header'\n    this.#header.setAttribute('role', 'row')\n    this.appendChild(this.#header)\n\n    // Create viewport for virtual scrolling\n    this.#viewport = document.createElement('div')\n    this.#viewport.className = 'ytz-datagrid-viewport'\n    this.appendChild(this.#viewport)\n\n    // Create body container\n    this.#body = document.createElement('div')\n    this.#body.className = 'ytz-datagrid-body'\n    this.#body.setAttribute('role', 'rowgroup')\n    this.#viewport.appendChild(this.#body)\n  }\n\n  #render() {\n    this.#renderHeader()\n    this.#applyFiltersAndSort()\n    this.#initVirtualScroller()\n  }\n\n  #renderHeader() {\n    if (!this.#header) return\n\n    this.#header.innerHTML = ''\n\n    this.#columns.forEach((col, index) => {\n      const cell = document.createElement('div')\n      cell.className = 'ytz-datagrid-header-cell'\n      cell.setAttribute('role', 'columnheader')\n      cell.setAttribute('data-field', col.field)\n\n      // Use stored width or fall back to column attribute\n      const storedWidth = this.#columnWidths.get(col.field)\n      if (storedWidth) {\n        cell.style.width = `${storedWidth}px`\n        cell.style.flex = 'none'\n      } else if (col.width && col.width !== 'auto') {\n        cell.style.width = col.width\n        cell.style.flex = 'none'\n      }\n\n      // Create content wrapper to keep text separate from resize handle\n      const content = document.createElement('span')\n      content.className = 'ytz-datagrid-header-content'\n      content.textContent = col.header\n      cell.appendChild(content)\n\n      if (col.sortable) {\n        cell.classList.add('ytz-datagrid-sortable')\n        cell.addEventListener('click', (e) => {\n          // Don't sort when clicking resize handle\n          if (e.target.classList.contains('ytz-datagrid-resize-handle')) return\n          this.#handleSort(col.field)\n        })\n\n        // Add sort indicator\n        const indicator = document.createElement('span')\n        indicator.className = 'ytz-datagrid-sort-indicator'\n        if (this.#sortState?.field === col.field) {\n          indicator.textContent = this.#sortState.direction === 'asc' ? ' \\u25B2' : ' \\u25BC'\n          cell.setAttribute('aria-sort', this.#sortState.direction === 'asc' ? 'ascending' : 'descending')\n        }\n        content.appendChild(indicator)\n      }\n\n      if (col.filterable) {\n        const input = document.createElement('input')\n        input.type = 'text'\n        input.className = 'ytz-datagrid-filter'\n        input.placeholder = `Filter ${col.header}...`\n        input.value = this.#filterState[col.field] || ''\n        input.addEventListener('input', (e) => {\n          this.#filterState[col.field] = e.target.value\n          this.#applyFiltersAndSort()\n          this.#initVirtualScroller()\n        })\n        input.addEventListener('click', (e) => e.stopPropagation())\n        cell.appendChild(input)\n      }\n\n      // Add resize handle\n      const resizeHandle = document.createElement('div')\n      resizeHandle.className = 'ytz-datagrid-resize-handle'\n      resizeHandle.addEventListener('mousedown', (e) => this.#handleResizeStart(e, col.field, cell))\n      cell.appendChild(resizeHandle)\n\n      this.#header.appendChild(cell)\n    })\n  }\n\n  #handleResizeStart(e, field, headerCell) {\n    e.preventDefault()\n    e.stopPropagation()\n\n    const startX = e.clientX\n    const startWidth = headerCell.offsetWidth\n\n    this.#resizeState = { field, startX, startWidth, headerCell }\n\n    document.addEventListener('mousemove', this.#handleResizeMove)\n    document.addEventListener('mouseup', this.#handleResizeEnd)\n\n    // Add resizing class for visual feedback\n    this.classList.add('ytz-datagrid-resizing')\n  }\n\n  #handleResizeMove = (e) => {\n    if (!this.#resizeState) return\n\n    const { field, startX, startWidth, headerCell } = this.#resizeState\n    const delta = e.clientX - startX\n    const newWidth = Math.max(50, startWidth + delta) // Minimum 50px\n\n    // Update header cell width\n    headerCell.style.width = `${newWidth}px`\n    headerCell.style.flex = 'none'\n\n    // Update body cells width\n    this.#columnWidths.set(field, newWidth)\n    this.#updateBodyColumnWidths()\n  }\n\n  #handleResizeEnd = () => {\n    if (this.#resizeState) {\n      this.dispatchEvent(new CustomEvent('columnresize', {\n        bubbles: true,\n        detail: {\n          field: this.#resizeState.field,\n          width: this.#columnWidths.get(this.#resizeState.field)\n        }\n      }))\n    }\n\n    this.#resizeState = null\n    document.removeEventListener('mousemove', this.#handleResizeMove)\n    document.removeEventListener('mouseup', this.#handleResizeEnd)\n    this.classList.remove('ytz-datagrid-resizing')\n  }\n\n  /**\n   * Extract a numeric value from a string, handling currency, percentages, etc.\n   * @param {*} value - The value to parse\n   * @returns {number|null} - The numeric value or null if not parseable\n   */\n  #extractNumber(value) {\n    if (typeof value === 'number') return value\n    if (typeof value !== 'string') return null\n\n    // Remove currency symbols, commas, spaces, and percentage signs\n    const cleaned = value.replace(/[$,\\s%]/g, '')\n\n    // Check if it looks like a number (possibly negative, possibly decimal)\n    if (!/^-?\\d+\\.?\\d*$/.test(cleaned)) return null\n\n    const num = parseFloat(cleaned)\n    return isNaN(num) ? null : num\n  }\n\n  #updateBodyColumnWidths() {\n    const rows = this.querySelectorAll('.ytz-datagrid-row')\n    rows.forEach(row => {\n      this.#columns.forEach((col, colIndex) => {\n        const cell = row.querySelector(`[data-col-index=\"${colIndex}\"]`)\n        if (cell) {\n          const storedWidth = this.#columnWidths.get(col.field)\n          if (storedWidth) {\n            cell.style.width = `${storedWidth}px`\n            cell.style.flex = 'none'\n          }\n        }\n      })\n    })\n  }\n\n  #handleSort(field) {\n    if (this.#sortState?.field === field) {\n      if (this.#sortState.direction === 'asc') {\n        this.#sortState.direction = 'desc'\n      } else if (this.#sortState.direction === 'desc') {\n        this.#sortState = null\n      }\n    } else {\n      this.#sortState = { field, direction: 'asc' }\n    }\n\n    this.#applyFiltersAndSort()\n    this.#renderHeader()\n    this.#initVirtualScroller()\n\n    this.dispatchEvent(new CustomEvent('sort', {\n      bubbles: true,\n      detail: { ...this.#sortState }\n    }))\n  }\n\n  #applyFiltersAndSort() {\n    let result = [...this.#data]\n\n    // Apply filters\n    for (const [field, value] of Object.entries(this.#filterState)) {\n      if (value) {\n        const searchLower = value.toLowerCase()\n        result = result.filter(row => {\n          const cellValue = String(row[field] ?? '').toLowerCase()\n          return cellValue.includes(searchLower)\n        })\n      }\n    }\n\n    // Apply sort\n    if (this.#sortState) {\n      const { field, direction } = this.#sortState\n      result.sort((a, b) => {\n        const aVal = a[field] ?? ''\n        const bVal = b[field] ?? ''\n\n        // Try to extract numeric values (handles currency, percentages, etc.)\n        const aNum = this.#extractNumber(aVal)\n        const bNum = this.#extractNumber(bVal)\n\n        let cmp\n        if (aNum !== null && bNum !== null) {\n          // Both values are numeric - compare as numbers\n          cmp = aNum - bNum\n        } else {\n          // Fall back to string comparison\n          cmp = String(aVal).localeCompare(String(bVal), undefined, { numeric: true })\n        }\n\n        return direction === 'asc' ? cmp : -cmp\n      })\n    }\n\n    this.#filteredData = result\n  }\n\n  #initVirtualScroller() {\n    // Guard: ensure DOM structure is ready\n    if (!this.#viewport || !this.#body) return\n\n    this.#virtualScroller?.destroy()\n\n    const rowHeight = parseInt(this.getAttribute('row-height')) || 40\n\n    this.#virtualScroller = createVirtualScroller({\n      container: this.#viewport,\n      content: this.#body,\n      itemCount: this.#filteredData.length,\n      itemHeight: rowHeight,\n      renderItem: (index) => this.#renderRow(index)\n    })\n  }\n\n  #renderRow(index) {\n    const rowData = this.#filteredData[index]\n    if (!rowData) return null\n\n    const row = document.createElement('div')\n    row.className = 'ytz-datagrid-row'\n    row.setAttribute('role', 'row')\n    row.setAttribute('data-row-index', String(index))\n    row.tabIndex = -1\n\n    this.#columns.forEach((col, colIndex) => {\n      const cell = document.createElement('div')\n      cell.className = 'ytz-datagrid-cell'\n      cell.setAttribute('role', 'gridcell')\n\n      // Use stored width or fall back to column attribute\n      const storedWidth = this.#columnWidths.get(col.field)\n      if (storedWidth) {\n        cell.style.width = `${storedWidth}px`\n        cell.style.flex = 'none'\n      } else if (col.width && col.width !== 'auto') {\n        cell.style.width = col.width\n        cell.style.flex = 'none'\n      }\n\n      cell.textContent = String(rowData[col.field] ?? '')\n      cell.setAttribute('data-col-index', String(colIndex))\n      row.appendChild(cell)\n    })\n\n    row.addEventListener('click', (e) => {\n      this.#focusedRow = index\n      // Determine which cell was clicked\n      const cell = e.target.closest('.ytz-datagrid-cell')\n      if (cell) {\n        const colIndex = parseInt(cell.getAttribute('data-col-index'), 10)\n        if (!isNaN(colIndex)) {\n          this.#focusedCol = colIndex\n        }\n      }\n      this.#updateFocus()\n      this.dispatchEvent(new CustomEvent('rowselect', {\n        bubbles: true,\n        detail: { row: rowData, index }\n      }))\n    })\n\n    return row\n  }\n\n  #handleKeydown = (e) => {\n    const maxRow = this.#filteredData.length - 1\n    const maxCol = this.#columns.length - 1\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault()\n        this.#focusedRow = Math.min(maxRow, this.#focusedRow + 1)\n        this.#updateFocus()\n        break\n      case 'ArrowUp':\n        e.preventDefault()\n        this.#focusedRow = Math.max(0, this.#focusedRow - 1)\n        this.#updateFocus()\n        break\n      case 'ArrowRight':\n        e.preventDefault()\n        this.#focusedCol = Math.min(maxCol, this.#focusedCol + 1)\n        this.#updateFocus()\n        break\n      case 'ArrowLeft':\n        e.preventDefault()\n        this.#focusedCol = Math.max(0, this.#focusedCol - 1)\n        this.#updateFocus()\n        break\n      case 'Home':\n        e.preventDefault()\n        if (e.ctrlKey) {\n          this.#focusedRow = 0\n        }\n        this.#focusedCol = 0\n        this.#updateFocus()\n        break\n      case 'End':\n        e.preventDefault()\n        if (e.ctrlKey) {\n          this.#focusedRow = maxRow\n        }\n        this.#focusedCol = maxCol\n        this.#updateFocus()\n        break\n      case 'PageDown':\n        e.preventDefault()\n        this.#focusedRow = Math.min(maxRow, this.#focusedRow + 10)\n        this.#updateFocus()\n        break\n      case 'PageUp':\n        e.preventDefault()\n        this.#focusedRow = Math.max(0, this.#focusedRow - 10)\n        this.#updateFocus()\n        break\n      case 'Enter':\n        e.preventDefault()\n        this.dispatchEvent(new CustomEvent('rowactivate', {\n          bubbles: true,\n          detail: { row: this.#filteredData[this.#focusedRow], index: this.#focusedRow }\n        }))\n        break\n    }\n  }\n\n  #updateFocus() {\n    // Scroll row into view via virtual scroller\n    this.#virtualScroller?.scrollToIndex(this.#focusedRow)\n\n    // Apply focus styling after any scroll-triggered re-render completes\n    // (scrollToIndex may trigger scroll event  RAF render that clears DOM)\n    requestAnimationFrame(() => {\n      this.#applyFocusStyling()\n    })\n  }\n\n  #applyFocusStyling() {\n    // Update row focus styling\n    this.querySelectorAll('.ytz-datagrid-row').forEach(row => {\n      row.classList.remove('ytz-datagrid-row-focused')\n    })\n\n    const targetRow = this.querySelector(`[data-row-index=\"${this.#focusedRow}\"]`)\n    targetRow?.classList.add('ytz-datagrid-row-focused')\n\n    // Update cell focus\n    this.querySelectorAll('.ytz-datagrid-cell').forEach(cell => {\n      cell.classList.remove('ytz-datagrid-cell-focused')\n    })\n\n    const targetCell = targetRow?.querySelector(`[data-col-index=\"${this.#focusedCol}\"]`)\n    targetCell?.classList.add('ytz-datagrid-cell-focused')\n  }\n\n  /**\n   * Export data to CSV format.\n   * @returns {string} CSV string\n   */\n  exportCSV() {\n    const headers = this.#columns.map(col => `\"${col.header.replace(/\"/g, '\"\"')}\"`)\n    const rows = this.#filteredData.map(row => {\n      return this.#columns.map(col => {\n        const value = String(row[col.field] ?? '')\n        return `\"${value.replace(/\"/g, '\"\"')}\"`\n      }).join(',')\n    })\n    return [headers.join(','), ...rows].join('\\n')\n  }\n\n  /**\n   * Download data as CSV file.\n   * @param {string} filename - File name (default: 'data.csv')\n   */\n  downloadCSV(filename = 'data.csv') {\n    const csv = this.exportCSV()\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\n    const url = URL.createObjectURL(blob)\n    const link = document.createElement('a')\n    link.href = url\n    link.download = filename\n    link.click()\n    URL.revokeObjectURL(url)\n  }\n\n  // Property accessors\n  get data() {\n    return this.#data\n  }\n\n  set data(value) {\n    this.#data = Array.isArray(value) ? value : []\n    this.#applyFiltersAndSort()\n    this.#initVirtualScroller()\n  }\n\n  get sortState() {\n    return this.#sortState ? { ...this.#sortState } : null\n  }\n\n  get filteredData() {\n    return [...this.#filteredData]\n  }\n}\n\nregister('ytz-datagrid', YtzDatagrid)\n\nexport { YtzDatagrid, YtzDatagridColumn }\n","/**\n * Focus trap utility for modals/dialogs.\n * Keeps focus within a container element.\n *\n * @module @grimoire/yetzirah-core/utils/focus-trap\n * @internal Not exported from package\n */\n\n/** @type {string} Selector for focusable elements */\nconst FOCUSABLE = 'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n\n/**\n * Creates a focus trap for a container element.\n *\n * @param {HTMLElement} container - Element to trap focus within\n * @returns {{ activate: () => void, deactivate: () => void }}\n */\nexport function createFocusTrap(container) {\n  /** @param {KeyboardEvent} e */\n  function handleKeydown(e) {\n    if (e.key !== 'Tab') return\n\n    const focusable = [...container.querySelectorAll(FOCUSABLE)]\n      .filter(el => !el.hidden && !el.closest('[hidden]')) // visible only\n\n    if (focusable.length === 0) return\n\n    const first = focusable[0]\n    const last = focusable[focusable.length - 1]\n\n    if (e.shiftKey && document.activeElement === first) {\n      e.preventDefault()\n      last.focus()\n    } else if (!e.shiftKey && document.activeElement === last) {\n      e.preventDefault()\n      first.focus()\n    }\n  }\n\n  return {\n    activate() {\n      container.addEventListener('keydown', handleKeydown)\n    },\n    deactivate() {\n      container.removeEventListener('keydown', handleKeydown)\n    }\n  }\n}\n","/**\n * ytz-dialog - Modal dialog Web Component.\n * Provides focus trap, scroll lock, escape-to-close, and backdrop dismiss.\n *\n * @module @grimoire/yetzirah-core/dialog\n * @example\n * <ytz-dialog id=\"my-dialog\" class=\"pa4 bg-white br3 shadow-2\">\n *   <h2>Dialog Title</h2>\n *   <p>Content goes here.</p>\n *   <button onclick=\"this.closest('ytz-dialog').removeAttribute('open')\">Close</button>\n * </ytz-dialog>\n *\n * @example\n * // Open dialog\n * document.getElementById('my-dialog').setAttribute('open', '')\n *\n * @example\n * // Static dialog (no backdrop dismiss)\n * <ytz-dialog static>...</ytz-dialog>\n */\n\nimport { createFocusTrap } from './utils/focus-trap.js'\nimport { register } from './utils/register.js'\n\n/** @type {string} Selector for focusable elements */\nconst FOCUSABLE = 'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n\n/**\n * @class YtzDialog\n * @extends HTMLElement\n */\nclass YtzDialog extends HTMLElement {\n  static observedAttributes = ['open']\n\n  /** @type {HTMLElement|null} */\n  #previousFocus = null\n  /** @type {{ activate: () => void, deactivate: () => void }|null} */\n  #focusTrap = null\n  /** @type {string} */\n  #previousOverflow = ''\n\n  connectedCallback() {\n    this.setAttribute('role', 'dialog')\n    this.setAttribute('aria-modal', 'true')\n    this.hidden = !this.hasAttribute('open')\n\n    // Set up backdrop click handler\n    this.addEventListener('click', this.#handleBackdropClick)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this.#handleBackdropClick)\n    this.#cleanup()\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (name === 'open' && this.isConnected) {\n      newVal !== null ? this.#open() : this.#close()\n    }\n  }\n\n  #open() {\n    // Save current focus for restoration\n    this.#previousFocus = /** @type {HTMLElement} */ (document.activeElement)\n\n    // Show dialog\n    this.hidden = false\n\n    // Lock body scroll\n    this.#previousOverflow = document.body.style.overflow\n    document.body.style.overflow = 'hidden'\n\n    // Set up focus trap\n    this.#focusTrap = createFocusTrap(this)\n    this.#focusTrap.activate()\n\n    // Add escape key listener\n    document.addEventListener('keydown', this.#handleEscape)\n\n    // Focus first focusable element (or dialog itself)\n    requestAnimationFrame(() => {\n      const firstFocusable = this.querySelector(FOCUSABLE)\n      if (firstFocusable) {\n        /** @type {HTMLElement} */ (firstFocusable).focus()\n      } else {\n        this.setAttribute('tabindex', '-1')\n        this.focus()\n      }\n    })\n  }\n\n  #close() {\n    this.hidden = true\n    this.#cleanup()\n\n    // Dispatch close event\n    this.dispatchEvent(new CustomEvent('close', { bubbles: true }))\n  }\n\n  #cleanup() {\n    // Restore body scroll\n    document.body.style.overflow = this.#previousOverflow\n\n    // Deactivate focus trap\n    this.#focusTrap?.deactivate()\n    this.#focusTrap = null\n\n    // Remove escape listener\n    document.removeEventListener('keydown', this.#handleEscape)\n\n    // Restore focus\n    this.#previousFocus?.focus()\n    this.#previousFocus = null\n  }\n\n  /** @param {KeyboardEvent} e */\n  #handleEscape = (e) => {\n    if (e.key === 'Escape' && this.hasAttribute('open')) {\n      e.preventDefault()\n      this.removeAttribute('open')\n    }\n  }\n\n  /** @param {MouseEvent} e */\n  #handleBackdropClick = (e) => {\n    // Only close if clicking directly on dialog element (backdrop), not children\n    if (e.target === this && !this.hasAttribute('static')) {\n      this.removeAttribute('open')\n    }\n  }\n\n  /**\n   * Get/set the open state.\n   * @type {boolean}\n   */\n  get open() {\n    return this.hasAttribute('open')\n  }\n\n  set open(value) {\n    if (value) {\n      this.setAttribute('open', '')\n    } else {\n      this.removeAttribute('open')\n    }\n  }\n\n  /**\n   * Close the dialog programmatically.\n   */\n  close() {\n    this.removeAttribute('open')\n  }\n\n  /**\n   * Show the dialog programmatically.\n   */\n  showModal() {\n    this.setAttribute('open', '')\n  }\n}\n\nregister('ytz-dialog', YtzDialog)\n\nexport { YtzDialog }\n","/**\n * ytz-disclosure - Expandable content Web Component.\n * Toggles content visibility with proper ARIA attributes.\n *\n * @module @grimoire/yetzirah-core/disclosure\n * @example\n * <ytz-disclosure>\n *   <button>Show Details</button>\n *   <div>Hidden content...</div>\n * </ytz-disclosure>\n *\n * @example\n * // Initially open\n * <ytz-disclosure open>\n *   <button>Hide Details</button>\n *   <div>Visible content...</div>\n * </ytz-disclosure>\n */\n\nimport { register } from './utils/register.js'\n\nlet disclosureId = 0\n\n/**\n * @class YtzDisclosure\n * @extends HTMLElement\n */\nclass YtzDisclosure extends HTMLElement {\n  static observedAttributes = ['open']\n\n  /** @type {HTMLElement|null} */\n  #trigger = null\n  /** @type {HTMLElement|null} */\n  #content = null\n  /** @type {string|null} */\n  #contentId = null\n\n  connectedCallback() {\n    this.#setup()\n    this.#updateState()\n  }\n\n  disconnectedCallback() {\n    this.#trigger?.removeEventListener('click', this.#handleClick)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (name === 'open' && this.isConnected) {\n      this.#updateState()\n    }\n  }\n\n  #setup() {\n    // Find trigger (first button) and content (next sibling element)\n    this.#trigger = this.querySelector('button')\n    this.#content = this.#trigger?.nextElementSibling\n\n    if (!this.#trigger || !this.#content) return\n\n    // Generate unique ID for content if needed\n    this.#contentId = this.#content.id || `ytz-disclosure-${++disclosureId}`\n    this.#content.id = this.#contentId\n\n    // Set up ARIA linkage\n    this.#trigger.setAttribute('aria-controls', this.#contentId)\n\n    // Attach click listener\n    this.#trigger.addEventListener('click', this.#handleClick)\n  }\n\n  #handleClick = () => {\n    this.toggle()\n  }\n\n  #updateState() {\n    const isOpen = this.hasAttribute('open')\n\n    if (this.#trigger) {\n      this.#trigger.setAttribute('aria-expanded', String(isOpen))\n    }\n\n    if (this.#content) {\n      this.#content.hidden = !isOpen\n    }\n  }\n\n  /**\n   * Toggle the disclosure open/closed state.\n   * Dispatches a 'toggle' event with the new state.\n   */\n  toggle() {\n    const willOpen = !this.hasAttribute('open')\n\n    if (willOpen) {\n      this.setAttribute('open', '')\n    } else {\n      this.removeAttribute('open')\n    }\n\n    this.dispatchEvent(new CustomEvent('toggle', {\n      bubbles: true,\n      detail: { open: willOpen }\n    }))\n  }\n\n  /**\n   * Get/set the open state.\n   * @type {boolean}\n   */\n  get open() {\n    return this.hasAttribute('open')\n  }\n\n  set open(value) {\n    if (value) {\n      this.setAttribute('open', '')\n    } else {\n      this.removeAttribute('open')\n    }\n  }\n}\n\nregister('ytz-disclosure', YtzDisclosure)\n\nexport { YtzDisclosure }\n","/**\n * ytz-drawer - Slide-in panel Web Component.\n * Inherits modal behavior: focus trap, scroll lock, escape-to-close, backdrop dismiss.\n *\n * @module @grimoire/yetzirah-core/drawer\n * @example\n * <ytz-drawer id=\"menu\" anchor=\"left\" class=\"w5 h-100 bg-white shadow-2\">\n *   <nav class=\"pa4\">\n *     <a href=\"/home\">Home</a>\n *   </nav>\n *   <button onclick=\"this.closest('ytz-drawer').close()\">Close</button>\n * </ytz-drawer>\n *\n * @example\n * // Open drawer\n * document.getElementById('menu').open = true\n *\n * @example\n * // Different anchors\n * <ytz-drawer anchor=\"right\">...</ytz-drawer>\n * <ytz-drawer anchor=\"top\">...</ytz-drawer>\n * <ytz-drawer anchor=\"bottom\">...</ytz-drawer>\n */\n\nimport { createFocusTrap } from './utils/focus-trap.js'\nimport { register } from './utils/register.js'\n\n/** @type {string} Selector for focusable elements */\nconst FOCUSABLE = 'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n\n/** @type {string[]} Valid anchor positions */\nconst VALID_ANCHORS = ['left', 'right', 'top', 'bottom']\n\n/**\n * @class YtzDrawer\n * @extends HTMLElement\n */\nclass YtzDrawer extends HTMLElement {\n  static observedAttributes = ['open', 'anchor']\n\n  /** @type {HTMLElement|null} */\n  #previousFocus = null\n  /** @type {{ activate: () => void, deactivate: () => void }|null} */\n  #focusTrap = null\n  /** @type {string} */\n  #previousOverflow = ''\n\n  connectedCallback() {\n    this.setAttribute('role', 'dialog')\n    this.setAttribute('aria-modal', 'true')\n    this.hidden = !this.hasAttribute('open')\n\n    if (!this.hasAttribute('anchor')) {\n      this.setAttribute('anchor', 'left')\n    }\n\n    this.addEventListener('click', this.#handleBackdropClick)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this.#handleBackdropClick)\n    this.#cleanup()\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (name === 'open' && this.isConnected) {\n      newVal !== null ? this.#open() : this.#close()\n    }\n    if (name === 'anchor' && newVal && !VALID_ANCHORS.includes(newVal)) {\n      this.setAttribute('anchor', 'left')\n    }\n  }\n\n  #open() {\n    this.#previousFocus = /** @type {HTMLElement} */ (document.activeElement)\n    this.hidden = false\n    this.#previousOverflow = document.body.style.overflow\n    document.body.style.overflow = 'hidden'\n    this.#focusTrap = createFocusTrap(this)\n    this.#focusTrap.activate()\n    document.addEventListener('keydown', this.#handleEscape)\n\n    requestAnimationFrame(() => {\n      const firstFocusable = this.querySelector(FOCUSABLE)\n      if (firstFocusable) {\n        /** @type {HTMLElement} */ (firstFocusable).focus()\n      } else {\n        this.setAttribute('tabindex', '-1')\n        this.focus()\n      }\n    })\n  }\n\n  #close() {\n    this.hidden = true\n    this.#cleanup()\n    this.dispatchEvent(new CustomEvent('close', { bubbles: true }))\n  }\n\n  #cleanup() {\n    document.body.style.overflow = this.#previousOverflow\n    this.#focusTrap?.deactivate()\n    this.#focusTrap = null\n    document.removeEventListener('keydown', this.#handleEscape)\n    this.#previousFocus?.focus()\n    this.#previousFocus = null\n  }\n\n  /** @param {KeyboardEvent} e */\n  #handleEscape = (e) => {\n    if (e.key === 'Escape' && this.hasAttribute('open')) {\n      e.preventDefault()\n      this.removeAttribute('open')\n    }\n  }\n\n  /** @param {MouseEvent} e */\n  #handleBackdropClick = (e) => {\n    if (e.target === this && !this.hasAttribute('static')) {\n      this.removeAttribute('open')\n    }\n  }\n\n  /** @type {boolean} */\n  get open() {\n    return this.hasAttribute('open')\n  }\n\n  set open(value) {\n    value ? this.setAttribute('open', '') : this.removeAttribute('open')\n  }\n\n  /** @type {'left'|'right'|'top'|'bottom'} */\n  get anchor() {\n    return /** @type {'left'|'right'|'top'|'bottom'} */ (this.getAttribute('anchor') || 'left')\n  }\n\n  set anchor(value) {\n    if (VALID_ANCHORS.includes(value)) this.setAttribute('anchor', value)\n  }\n\n  /** Close the drawer programmatically. */\n  close() {\n    this.removeAttribute('open')\n  }\n\n  /** Show the drawer programmatically. */\n  show() {\n    this.setAttribute('open', '')\n  }\n}\n\nregister('ytz-drawer', YtzDrawer)\n\nexport { YtzDrawer }\n","/**\n * ytz-icon-button - Icon button Web Component.\n * A button variant requiring aria-label for accessibility.\n *\n * @module @grimoire/yetzirah-core/icon-button\n * @example\n * <ytz-icon-button aria-label=\"Close\">\n *   <svg>...</svg>\n * </ytz-icon-button>\n *\n * @example\n * // With tooltip integration\n * <ytz-icon-button aria-label=\"Settings\" tooltip>\n *   <svg>...</svg>\n * </ytz-icon-button>\n *\n * @example\n * // Disabled\n * <ytz-icon-button aria-label=\"Delete\" disabled>\n *   <svg>...</svg>\n * </ytz-icon-button>\n */\n\nimport { register } from './utils/register.js'\n\n/** @type {string} Default classes for icon button */\nconst DEFAULTS = 'pointer bn bg-transparent pa0 dib'\n\n/**\n * @class YtzIconButton\n * @extends HTMLElement\n */\nclass YtzIconButton extends HTMLElement {\n  static observedAttributes = ['disabled', 'aria-label', 'tooltip', 'class']\n\n  /** @type {HTMLElement|null} */\n  #tooltipEl = null\n\n  connectedCallback() {\n    this.#render()\n    this.#checkAccessibility()\n  }\n\n  disconnectedCallback() {\n    this.#removeTooltip()\n    this.removeEventListener('mouseenter', this.#showTooltip)\n    this.removeEventListener('mouseleave', this.#hideTooltip)\n    this.removeEventListener('focus', this.#showTooltip)\n    this.removeEventListener('blur', this.#hideTooltip)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (this.isConnected) {\n      this.#render()\n      if (name === 'aria-label') {\n        this.#checkAccessibility()\n      }\n    }\n  }\n\n  #checkAccessibility() {\n    if (!this.hasAttribute('aria-label')) {\n      console.warn('ytz-icon-button: aria-label is required for accessibility')\n    }\n  }\n\n  #render() {\n    const userClass = this.getAttribute('class') || ''\n    const button = this.querySelector('button.ytz-icon-button-inner') || document.createElement('button')\n    const isNew = !button.parentNode\n\n    button.type = 'button'\n    button.className = 'ytz-icon-button-inner ' + DEFAULTS + (userClass ? ' ' + userClass : '')\n    button.disabled = this.hasAttribute('disabled')\n\n    // Copy aria-label to inner button\n    const label = this.getAttribute('aria-label')\n    if (label) {\n      button.setAttribute('aria-label', label)\n    }\n\n    // Copy aria-* and data-* attributes\n    for (const attr of this.attributes) {\n      if ((attr.name.startsWith('aria-') || attr.name.startsWith('data-')) && attr.name !== 'aria-label') {\n        button.setAttribute(attr.name, attr.value)\n      }\n    }\n\n    if (isNew) {\n      // Move icon content into button\n      while (this.firstChild && this.firstChild !== button) {\n        button.appendChild(this.firstChild)\n      }\n      this.appendChild(button)\n    }\n\n    // Setup tooltip if requested\n    this.#setupTooltip()\n  }\n\n  #setupTooltip() {\n    // Remove old listeners\n    this.removeEventListener('mouseenter', this.#showTooltip)\n    this.removeEventListener('mouseleave', this.#hideTooltip)\n    this.removeEventListener('focus', this.#showTooltip)\n    this.removeEventListener('blur', this.#hideTooltip)\n\n    if (this.hasAttribute('tooltip')) {\n      this.addEventListener('mouseenter', this.#showTooltip)\n      this.addEventListener('mouseleave', this.#hideTooltip)\n      this.addEventListener('focus', this.#showTooltip)\n      this.addEventListener('blur', this.#hideTooltip)\n    }\n  }\n\n  #showTooltip = () => {\n    const label = this.getAttribute('aria-label')\n    if (!label) return\n\n    this.#tooltipEl = document.createElement('div')\n    this.#tooltipEl.className = 'ytz-icon-button-tooltip'\n    this.#tooltipEl.textContent = label\n    this.#tooltipEl.setAttribute('role', 'tooltip')\n\n    // Position tooltip below button\n    // Use inner button for rect since parent may have display:contents\n    const button = this.querySelector('button.ytz-icon-button-inner')\n    const rect = (button || this).getBoundingClientRect()\n    this.#tooltipEl.style.cssText = `\n      position: fixed;\n      left: ${rect.left + rect.width / 2}px;\n      top: ${rect.bottom + 4}px;\n      transform: translateX(-50%);\n      z-index: 9999;\n    `\n\n    document.body.appendChild(this.#tooltipEl)\n  }\n\n  #hideTooltip = () => {\n    this.#removeTooltip()\n  }\n\n  #removeTooltip() {\n    if (this.#tooltipEl) {\n      this.#tooltipEl.remove()\n      this.#tooltipEl = null\n    }\n  }\n\n  /**\n   * Get/set the disabled state.\n   * @type {boolean}\n   */\n  get disabled() {\n    return this.hasAttribute('disabled')\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '')\n    } else {\n      this.removeAttribute('disabled')\n    }\n  }\n}\n\nregister('ytz-icon-button', YtzIconButton)\n\nexport { YtzIconButton }\n","/**\n * ytz-listbox - Keyboard-navigable list selection with single/multi-select modes.\n * @module @grimoire/yetzirah-core/listbox\n */\n\nimport { createKeyNav } from './utils/key-nav.js'\nimport { register } from './utils/register.js'\n\nlet listboxId = 0\n\nclass YtzListbox extends HTMLElement {\n  static observedAttributes = ['multiple', 'disabled']\n  #keyNav = null\n  #selected = new Set()\n  #id = null\n\n  connectedCallback() { this.#setup() }\n  disconnectedCallback() { this.#cleanup() }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n    if (name === 'multiple') this.setAttribute('aria-multiselectable', newVal !== null ? 'true' : 'false')\n    if (name === 'disabled') this.#updateDisabledState()\n  }\n\n  get multiple() { return this.hasAttribute('multiple') }\n  set multiple(v) { v ? this.setAttribute('multiple', '') : this.removeAttribute('multiple') }\n\n  get disabled() { return this.hasAttribute('disabled') }\n  set disabled(v) { v ? this.setAttribute('disabled', '') : this.removeAttribute('disabled') }\n\n  get value() {\n    return this.multiple ? [...this.#selected] : ([...this.#selected][0] || '')\n  }\n  set value(v) {\n    this.#selected.clear()\n    if (Array.isArray(v)) v.forEach(val => this.#selected.add(val))\n    else if (v) this.#selected.add(v)\n    this.#updateSelectedState()\n  }\n\n  get options() { return [...this.querySelectorAll('ytz-option')] }\n  get selectedOptions() { return [...this.querySelectorAll('ytz-option[selected]')] }\n\n  #setup() {\n    this.#id = `ytz-listbox-${++listboxId}`\n    if (!this.id) this.id = this.#id\n    this.setAttribute('role', 'listbox')\n    if (this.multiple) this.setAttribute('aria-multiselectable', 'true')\n    if (!this.hasAttribute('tabindex')) this.setAttribute('tabindex', '0')\n\n    this.#keyNav = createKeyNav(\n      () => [...this.querySelectorAll('ytz-option:not([disabled])')],\n      { orientation: 'vertical', wrap: true, autoActivate: false }\n    )\n\n    this.addEventListener('keydown', this.#handleKeyDown)\n    this.addEventListener('option-click', this.#handleOptionClick)\n    this.addEventListener('focus', this.#handleFocus)\n\n    this.querySelectorAll('ytz-option[selected]').forEach(opt => {\n      const value = opt.getAttribute('value') || opt.textContent?.trim()\n      if (value) this.#selected.add(value)\n    })\n    this.#updateSelectedState()\n  }\n\n  #cleanup() {\n    this.removeEventListener('keydown', this.#handleKeyDown)\n    this.removeEventListener('option-click', this.#handleOptionClick)\n    this.removeEventListener('focus', this.#handleFocus)\n  }\n\n  #handleFocus = () => {\n    const selected = this.querySelector('ytz-option[selected]:not([disabled])')\n    const first = this.querySelector('ytz-option:not([disabled])')\n    ;(selected || first)?.focus()\n  }\n\n  #handleKeyDown = (e) => {\n    if (this.disabled) return\n    this.#keyNav?.handleKeyDown(e)\n    if (e.key === 'Enter' || e.key === ' ') {\n      const focused = this.querySelector('ytz-option:focus')\n      if (focused && !focused.hasAttribute('disabled')) {\n        e.preventDefault()\n        this.#selectOption(focused)\n      }\n    }\n  }\n\n  #handleOptionClick = (e) => {\n    if (this.disabled) return\n    const option = e.detail?.option\n    if (option && !option.hasAttribute('disabled')) this.#selectOption(option)\n  }\n\n  #selectOption(option) {\n    const value = option.getAttribute('value') || option.textContent?.trim()\n    if (!value) return\n\n    if (this.multiple) {\n      this.#selected.has(value) ? this.#selected.delete(value) : this.#selected.add(value)\n    } else {\n      this.#selected.clear()\n      this.#selected.add(value)\n    }\n    this.#updateSelectedState()\n    this.dispatchEvent(new CustomEvent('change', { bubbles: true, detail: { value: this.value, option } }))\n  }\n\n  #updateSelectedState() {\n    this.querySelectorAll('ytz-option').forEach(opt => {\n      const value = opt.getAttribute('value') || opt.textContent?.trim()\n      const isSelected = this.#selected.has(value)\n      opt.toggleAttribute('selected', isSelected)\n      opt.setAttribute('aria-selected', String(isSelected))\n    })\n  }\n\n  #updateDisabledState() {\n    if (this.disabled) {\n      this.setAttribute('aria-disabled', 'true')\n      this.removeAttribute('tabindex')\n    } else {\n      this.removeAttribute('aria-disabled')\n      this.setAttribute('tabindex', '0')\n    }\n  }\n\n  clear() {\n    this.#selected.clear()\n    this.#updateSelectedState()\n    this.dispatchEvent(new CustomEvent('clear', { bubbles: true }))\n  }\n\n  selectAll() {\n    if (!this.multiple) return\n    this.querySelectorAll('ytz-option:not([disabled])').forEach(opt => {\n      const value = opt.getAttribute('value') || opt.textContent?.trim()\n      if (value) this.#selected.add(value)\n    })\n    this.#updateSelectedState()\n  }\n}\n\nregister('ytz-listbox', YtzListbox)\n\nexport { YtzListbox }\n","/**\n * ytz-menu - Dropdown menu with keyboard navigation.\n * Opens on trigger click, positions relative to trigger, closes on click outside/escape.\n *\n * @module @grimoire/yetzirah-core/menu\n * @example\n * <ytz-menu>\n *   <button slot=\"trigger\">Open Menu</button>\n *   <ytz-menuitem>Edit</ytz-menuitem>\n *   <ytz-menuitem>Delete</ytz-menuitem>\n * </ytz-menu>\n *\n * @example\n * <ytz-menu placement=\"bottom-start\">\n *   <button slot=\"trigger\">Actions</button>\n *   <ytz-menuitem value=\"edit\">Edit</ytz-menuitem>\n *   <ytz-menuitem disabled>Archive</ytz-menuitem>\n * </ytz-menu>\n */\n\nimport { position } from './utils/position.js'\nimport { createKeyNav } from './utils/key-nav.js'\nimport { clickOutside } from './utils/click-outside.js'\nimport { register } from './utils/register.js'\n\nlet menuId = 0\n\n/**\n * @class YtzMenu\n * @extends HTMLElement\n */\nclass YtzMenu extends HTMLElement {\n  static observedAttributes = ['open', 'placement']\n\n  /** @type {HTMLElement|null} */\n  #trigger = null\n  /** @type {HTMLElement|null} */\n  #popup = null\n  /** @type {string|null} */\n  #menuId = null\n  /** @type {ReturnType<typeof createKeyNav>|null} */\n  #keyNav = null\n  /** @type {ReturnType<typeof clickOutside>|null} */\n  #clickOutsideHandler = null\n  /** @type {number} */\n  #lastCloseTime = 0\n\n  connectedCallback() {\n    this.#setup()\n  }\n\n  disconnectedCallback() {\n    this.#cleanup()\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n    if (name === 'open') {\n      newVal !== null ? this.#showMenu() : this.#hideMenu()\n    }\n  }\n\n  /** @returns {boolean} */\n  get open() { return this.hasAttribute('open') }\n  set open(v) { v ? this.setAttribute('open', '') : this.removeAttribute('open') }\n\n  /** @returns {string} */\n  get placement() { return this.getAttribute('placement') || 'bottom-start' }\n  set placement(v) { v ? this.setAttribute('placement', v) : this.removeAttribute('placement') }\n\n  #setup() {\n    this.#trigger = this.querySelector('[slot=\"trigger\"]')\n    if (!this.#trigger) return\n\n    this.#menuId = `ytz-menu-${++menuId}`\n\n    // Create popup wrapper for menu items\n    this.#popup = document.createElement('div')\n    this.#popup.setAttribute('role', 'menu')\n    this.#popup.id = this.#menuId\n    this.#popup.hidden = true\n\n    // Move all menuitem children into popup\n    const items = [...this.querySelectorAll('ytz-menuitem')]\n    items.forEach(item => this.#popup.appendChild(item))\n    this.appendChild(this.#popup)\n\n    // ARIA on trigger\n    this.#trigger.setAttribute('aria-haspopup', 'menu')\n    this.#trigger.setAttribute('aria-controls', this.#menuId)\n    this.#trigger.setAttribute('aria-expanded', 'false')\n\n    // Keyboard navigation\n    this.#keyNav = createKeyNav(\n      () => [...this.#popup.querySelectorAll('ytz-menuitem:not([disabled])')],\n      { orientation: 'vertical', wrap: true, autoActivate: false }\n    )\n\n    this.#trigger.addEventListener('click', this.#handleTriggerClick)\n    this.addEventListener('keydown', this.#handleKeyDown)\n  }\n\n  #cleanup() {\n    this.#trigger?.removeEventListener('click', this.#handleTriggerClick)\n    this.removeEventListener('keydown', this.#handleKeyDown)\n    this.#clickOutsideHandler?.destroy()\n  }\n\n  #handleTriggerClick = () => { this.open = !this.open }\n\n  #handleKeyDown = (e) => {\n    if (!this.open) return\n\n    if (e.key === 'Escape') {\n      e.preventDefault()\n      this.open = false\n      this.#trigger?.focus()\n      return\n    }\n\n    this.#keyNav?.handleKeyDown(e)\n\n    if (e.key === 'Enter' || e.key === ' ') {\n      const focused = this.#popup?.querySelector('ytz-menuitem:focus')\n      if (focused && !focused.hasAttribute('disabled')) {\n        e.preventDefault()\n        focused.click()\n      }\n    }\n  }\n\n  #showMenu() {\n    if (!this.#trigger || !this.#popup) return\n    // Prevent re-opening if we just closed (e.g., click-outside + toggle in same event)\n    if (performance.now() - this.#lastCloseTime < 10) {\n      // Remove attribute to keep state consistent since we're blocking the open\n      this.removeAttribute('open')\n      return\n    }\n\n    // Pre-position as fixed but invisible to get correct layout\n    this.#popup.style.position = 'fixed'\n    this.#popup.style.visibility = 'hidden'\n    this.#popup.hidden = false\n\n    // Force synchronous reflow so popup has layout dimensions\n    void this.#popup.offsetHeight\n\n    // Calculate and apply position\n    const basePlacement = this.placement.split('-')[0] || 'bottom'\n    const { x, y } = position(this.#trigger, this.#popup, {\n      placement: basePlacement,\n      offset: 4\n    })\n    this.#popup.style.left = `${x}px`\n    this.#popup.style.top = `${y}px`\n\n    // Now make visible\n    this.#popup.style.visibility = ''\n    this.#trigger.setAttribute('aria-expanded', 'true')\n\n    const firstItem = this.#popup.querySelector('ytz-menuitem:not([disabled])')\n    firstItem?.focus()\n\n    // Defer click-outside setup to next event loop tick to avoid triggering on same click\n    setTimeout(() => {\n      // Only set up if still open (user might have closed it already)\n      if (!this.open) return\n      this.#clickOutsideHandler = clickOutside(this.#popup, () => {\n        this.open = false\n      }, { ignore: this.#trigger })\n    }, 0)\n\n    window.addEventListener('scroll', this.#updatePosition, { passive: true, capture: true })\n    window.addEventListener('resize', this.#updatePosition, { passive: true })\n\n    this.dispatchEvent(new CustomEvent('open', { bubbles: true }))\n  }\n\n  #hideMenu() {\n    if (!this.#trigger || !this.#popup) return\n\n    // Record close time to prevent re-opening in the same event\n    this.#lastCloseTime = performance.now()\n\n    this.#popup.hidden = true\n    this.#trigger.setAttribute('aria-expanded', 'false')\n\n    this.#clickOutsideHandler?.destroy()\n    this.#clickOutsideHandler = null\n    window.removeEventListener('scroll', this.#updatePosition, { capture: true })\n    window.removeEventListener('resize', this.#updatePosition)\n\n    this.dispatchEvent(new CustomEvent('close', { bubbles: true }))\n  }\n\n  #updatePosition = () => {\n    if (!this.#trigger || !this.#popup) return\n\n    const basePlacement = this.placement.split('-')[0] || 'bottom'\n    const { x, y } = position(this.#trigger, this.#popup, {\n      placement: basePlacement,\n      offset: 4\n    })\n\n    this.#popup.style.position = 'fixed'\n    this.#popup.style.left = `${x}px`\n    this.#popup.style.top = `${y}px`\n  }\n\n  show() { this.open = true }\n  hide() { this.open = false }\n  toggle() { this.open = !this.open }\n}\n\n/**\n * ytz-menuitem - Individual menu item.\n * @attr disabled - When present, item is not selectable\n * @attr value - Optional value for select event\n */\nclass YtzMenuItem extends HTMLElement {\n  connectedCallback() {\n    this.setAttribute('role', 'menuitem')\n    if (!this.hasAttribute('tabindex') && !this.hasAttribute('disabled')) {\n      this.setAttribute('tabindex', '-1')\n    }\n    if (this.hasAttribute('disabled')) {\n      this.setAttribute('aria-disabled', 'true')\n    }\n    this.addEventListener('click', this.#handleClick)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this.#handleClick)\n  }\n\n  #handleClick = (e) => {\n    if (this.hasAttribute('disabled')) {\n      e.preventDefault()\n      e.stopPropagation()\n      return\n    }\n\n    const menu = this.closest('ytz-menu')\n    if (menu) {\n      this.dispatchEvent(new CustomEvent('select', {\n        bubbles: true,\n        detail: { value: this.getAttribute('value') || this.textContent?.trim() }\n      }))\n      menu.open = false\n    }\n  }\n\n  /** @returns {boolean} */\n  get disabled() { return this.hasAttribute('disabled') }\n  set disabled(v) {\n    if (v) {\n      this.setAttribute('disabled', '')\n      this.setAttribute('aria-disabled', 'true')\n      this.removeAttribute('tabindex')\n    } else {\n      this.removeAttribute('disabled')\n      this.removeAttribute('aria-disabled')\n      this.setAttribute('tabindex', '-1')\n    }\n  }\n\n  /** @returns {string|null} */\n  get value() { return this.getAttribute('value') }\n  set value(v) { v ? this.setAttribute('value', v) : this.removeAttribute('value') }\n}\n\nregister('ytz-menu', YtzMenu)\nregister('ytz-menuitem', YtzMenuItem)\n\nexport { YtzMenu, YtzMenuItem }\n","/**\n * ytz-popover - Click-triggered positioned content Web Component.\n * Shows interactive content anchored to a trigger element.\n *\n * @module @grimoire/yetzirah-core/popover\n * @example\n * <ytz-popover>\n *   <button>Open menu</button>\n *   <div slot=\"content\">\n *     <p>Popover content with interactive elements</p>\n *     <button onclick=\"this.closest('ytz-popover').open = false\">Close</button>\n *   </div>\n * </ytz-popover>\n *\n * @example\n * // With placement\n * <ytz-popover placement=\"bottom\">\n *   <button>Settings</button>\n *   <div slot=\"content\" class=\"pa3 bg-white shadow-2 br2\">\n *     <label class=\"db mb2\">\n *       <input type=\"checkbox\"> Enable notifications\n *     </label>\n *     <button>Save</button>\n *   </div>\n * </ytz-popover>\n */\n\nimport { position } from './utils/position.js'\nimport { register } from './utils/register.js'\n\nlet popoverId = 0\n\n/** @type {string} Selector for focusable elements */\nconst FOCUSABLE = 'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n\n/**\n * @class YtzPopover\n * @extends HTMLElement\n */\nclass YtzPopover extends HTMLElement {\n  static observedAttributes = ['open', 'placement', 'offset']\n\n  /** @type {HTMLElement|null} */\n  #trigger = null\n  /** @type {HTMLElement|null} */\n  #content = null\n  /** @type {string|null} */\n  #contentId = null\n\n  connectedCallback() {\n    this.#setup()\n    // Check initial open state\n    if (this.hasAttribute('open')) {\n      this.#show()\n    }\n  }\n\n  disconnectedCallback() {\n    this.#cleanup()\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n\n    if (name === 'open') {\n      newVal !== null ? this.#show() : this.#hide()\n    } else if (this.hasAttribute('open')) {\n      // Reposition if placement/offset changed while open\n      this.#updatePosition()\n    }\n  }\n\n  /** @returns {'top'|'bottom'|'left'|'right'} */\n  get placement() {\n    return this.getAttribute('placement') || 'bottom'\n  }\n\n  set placement(value) {\n    this.setAttribute('placement', value)\n  }\n\n  /** @returns {number} */\n  get offset() {\n    return parseInt(this.getAttribute('offset') || '8', 10)\n  }\n\n  set offset(value) {\n    this.setAttribute('offset', String(value))\n  }\n\n  /** @returns {boolean} */\n  get open() {\n    return this.hasAttribute('open')\n  }\n\n  set open(value) {\n    if (value) {\n      this.setAttribute('open', '')\n    } else {\n      this.removeAttribute('open')\n    }\n  }\n\n  #setup() {\n    // Find trigger (first child) and content ([slot=\"content\"] or last child)\n    this.#trigger = this.firstElementChild\n    this.#content = this.querySelector('[slot=\"content\"]') || this.lastElementChild\n\n    if (!this.#trigger || !this.#content || this.#trigger === this.#content) return\n\n    // Generate unique ID for content\n    this.#contentId = this.#content.id || `ytz-popover-${++popoverId}`\n    this.#content.id = this.#contentId\n\n    // Set up ARIA - popover uses aria-expanded on trigger\n    this.#trigger.setAttribute('aria-haspopup', 'dialog')\n    this.#trigger.setAttribute('aria-expanded', 'false')\n    this.#trigger.setAttribute('aria-controls', this.#contentId)\n\n    // Content hidden initially\n    this.#content.hidden = true\n\n    // Click listener on trigger\n    this.#trigger.addEventListener('click', this.#handleTriggerClick)\n  }\n\n  #cleanup() {\n    this.#trigger?.removeEventListener('click', this.#handleTriggerClick)\n    document.removeEventListener('click', this.#handleOutsideClick)\n    document.removeEventListener('keydown', this.#handleEscape)\n    window.removeEventListener('scroll', this.#updatePosition, { capture: true })\n    window.removeEventListener('resize', this.#updatePosition)\n  }\n\n  #handleTriggerClick = (e) => {\n    e.stopPropagation()\n    this.open = !this.open\n  }\n\n  #handleOutsideClick = (e) => {\n    // Close if click is outside popover content and trigger\n    if (!this.#content?.contains(e.target) && !this.#trigger?.contains(e.target)) {\n      this.open = false\n    }\n  }\n\n  #handleEscape = (e) => {\n    if (e.key === 'Escape' && this.open) {\n      e.preventDefault()\n      this.open = false\n      // Return focus to trigger\n      this.#trigger?.focus()\n    }\n  }\n\n  #show() {\n    if (!this.#content) return\n\n    // Update ARIA\n    this.#trigger?.setAttribute('aria-expanded', 'true')\n\n    // Show content\n    this.#content.hidden = false\n    this.#updatePosition()\n\n    // Add listeners for dismiss\n    // Use setTimeout to avoid immediate close from the same click\n    setTimeout(() => {\n      document.addEventListener('click', this.#handleOutsideClick)\n    }, 0)\n    document.addEventListener('keydown', this.#handleEscape)\n\n    // Reposition on scroll/resize\n    window.addEventListener('scroll', this.#updatePosition, { passive: true, capture: true })\n    window.addEventListener('resize', this.#updatePosition, { passive: true })\n\n    // Focus first focusable element in content\n    requestAnimationFrame(() => {\n      const focusable = this.#content?.querySelector(FOCUSABLE)\n      if (focusable) {\n        /** @type {HTMLElement} */ (focusable).focus()\n      }\n    })\n\n    this.dispatchEvent(new CustomEvent('show', { bubbles: true }))\n  }\n\n  #hide() {\n    if (!this.#content) return\n\n    // Update ARIA\n    this.#trigger?.setAttribute('aria-expanded', 'false')\n\n    // Hide content\n    this.#content.hidden = true\n\n    // Remove listeners\n    document.removeEventListener('click', this.#handleOutsideClick)\n    document.removeEventListener('keydown', this.#handleEscape)\n    window.removeEventListener('scroll', this.#updatePosition, { capture: true })\n    window.removeEventListener('resize', this.#updatePosition)\n\n    this.dispatchEvent(new CustomEvent('hide', { bubbles: true }))\n  }\n\n  #updatePosition = () => {\n    if (!this.#trigger || !this.#content) return\n\n    const { x, y, placement: finalPlacement } = position(this.#trigger, this.#content, {\n      placement: this.placement,\n      offset: this.offset\n    })\n\n    // Position popover fixed relative to viewport\n    this.#content.style.position = 'fixed'\n    this.#content.style.left = `${x}px`\n    this.#content.style.top = `${y}px`\n\n    // Set data attribute for CSS styling based on actual placement\n    this.#content.dataset.placement = finalPlacement\n  }\n\n  // Public API\n\n  /** Show the popover programmatically */\n  show() {\n    this.open = true\n  }\n\n  /** Hide the popover programmatically */\n  hide() {\n    this.open = false\n  }\n\n  /** Toggle the popover open/closed */\n  toggle() {\n    this.open = !this.open\n  }\n}\n\nregister('ytz-popover', YtzPopover)\n\nexport { YtzPopover }\n","/**\n * ytz-progress - Progress indicator Web Component.\n * Supports both indeterminate (spinner) and determinate (progress bar) modes,\n * with circular and linear visual variants.\n *\n * @module @grimoire/yetzirah-core/progress\n * @example\n * // Indeterminate circular spinner (default)\n * <ytz-progress></ytz-progress>\n *\n * @example\n * // Determinate circular progress\n * <ytz-progress value=\"75\"></ytz-progress>\n *\n * @example\n * // Linear progress bar\n * <ytz-progress linear value=\"50\"></ytz-progress>\n *\n * @example\n * // Indeterminate linear (loading bar)\n * <ytz-progress linear></ytz-progress>\n */\n\nimport { register } from './utils/register.js'\n\n/** SVG circle properties for circular spinner */\nconst CIRCLE_SIZE = 44\nconst CIRCLE_RADIUS = 20\nconst CIRCLE_CIRCUMFERENCE = 2 * Math.PI * CIRCLE_RADIUS\n\n/**\n * @class YtzProgress\n * @extends HTMLElement\n */\nclass YtzProgress extends HTMLElement {\n  static observedAttributes = ['value', 'linear', 'size', 'label']\n\n  /** @type {SVGCircleElement|null} */\n  #circleTrack = null\n  /** @type {SVGCircleElement|null} */\n  #circleProgress = null\n  /** @type {HTMLDivElement|null} */\n  #linearTrack = null\n  /** @type {HTMLDivElement|null} */\n  #linearBar = null\n\n  connectedCallback() {\n    this.setAttribute('role', 'progressbar')\n    this.#render()\n    this.#updateARIA()\n  }\n\n  disconnectedCallback() {\n    // Clean up internal references\n    this.#circleTrack = null\n    this.#circleProgress = null\n    this.#linearTrack = null\n    this.#linearBar = null\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n\n    if (name === 'linear') {\n      // Re-render when switching between modes\n      this.#render()\n    } else if (name === 'value') {\n      this.#updateProgress()\n    } else if (name === 'size') {\n      this.#updateSize()\n    }\n\n    // Always update ARIA on attribute changes\n    this.#updateARIA()\n  }\n\n  #render() {\n    // Clear existing content\n    this.innerHTML = ''\n\n    if (this.linear) {\n      this.#renderLinear()\n    } else {\n      this.#renderCircular()\n    }\n\n    this.#updateProgress()\n    this.#updateSize()\n  }\n\n  #renderCircular() {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n    svg.setAttribute('viewBox', `0 0 ${CIRCLE_SIZE} ${CIRCLE_SIZE}`)\n    svg.setAttribute('class', 'ytz-progress-circular')\n    svg.setAttribute('aria-hidden', 'true')\n\n    // Track circle (background)\n    this.#circleTrack = document.createElementNS('http://www.w3.org/2000/svg', 'circle')\n    this.#circleTrack.setAttribute('class', 'ytz-progress-track')\n    this.#circleTrack.setAttribute('cx', String(CIRCLE_SIZE / 2))\n    this.#circleTrack.setAttribute('cy', String(CIRCLE_SIZE / 2))\n    this.#circleTrack.setAttribute('r', String(CIRCLE_RADIUS))\n    this.#circleTrack.setAttribute('fill', 'none')\n    this.#circleTrack.setAttribute('stroke-width', '4')\n\n    // Progress circle\n    this.#circleProgress = document.createElementNS('http://www.w3.org/2000/svg', 'circle')\n    this.#circleProgress.setAttribute('class', 'ytz-progress-indicator')\n    this.#circleProgress.setAttribute('cx', String(CIRCLE_SIZE / 2))\n    this.#circleProgress.setAttribute('cy', String(CIRCLE_SIZE / 2))\n    this.#circleProgress.setAttribute('r', String(CIRCLE_RADIUS))\n    this.#circleProgress.setAttribute('fill', 'none')\n    this.#circleProgress.setAttribute('stroke-width', '4')\n    this.#circleProgress.setAttribute('stroke-linecap', 'round')\n    this.#circleProgress.setAttribute('stroke-dasharray', String(CIRCLE_CIRCUMFERENCE))\n\n    svg.appendChild(this.#circleTrack)\n    svg.appendChild(this.#circleProgress)\n    this.appendChild(svg)\n  }\n\n  #renderLinear() {\n    this.#linearTrack = document.createElement('div')\n    this.#linearTrack.className = 'ytz-progress-track'\n    this.#linearTrack.setAttribute('aria-hidden', 'true')\n\n    this.#linearBar = document.createElement('div')\n    this.#linearBar.className = 'ytz-progress-indicator'\n\n    this.#linearTrack.appendChild(this.#linearBar)\n    this.appendChild(this.#linearTrack)\n  }\n\n  #updateProgress() {\n    const value = this.value\n    const isIndeterminate = value === null\n\n    // Set data attribute for CSS styling\n    if (isIndeterminate) {\n      this.setAttribute('data-indeterminate', '')\n    } else {\n      this.removeAttribute('data-indeterminate')\n    }\n\n    // Update the visual representation\n    if (this.linear) {\n      if (this.#linearBar) {\n        if (isIndeterminate) {\n          this.#linearBar.style.width = ''\n        } else {\n          this.#linearBar.style.width = `${value}%`\n        }\n      }\n    } else {\n      if (this.#circleProgress) {\n        if (isIndeterminate) {\n          // Indeterminate: partial circle that rotates\n          this.#circleProgress.style.strokeDashoffset = String(CIRCLE_CIRCUMFERENCE * 0.75)\n        } else {\n          // Determinate: show progress as arc\n          const offset = CIRCLE_CIRCUMFERENCE * (1 - value / 100)\n          this.#circleProgress.style.strokeDashoffset = String(offset)\n        }\n      }\n    }\n\n    // Update CSS custom property for advanced styling\n    this.style.setProperty('--progress-percent', value !== null ? String(value) : '0')\n  }\n\n  #updateSize() {\n    // Size is handled via CSS using data-size attribute\n    const size = this.getAttribute('size')\n    if (size && ['small', 'medium', 'large'].includes(size)) {\n      this.setAttribute('data-size', size)\n    } else {\n      this.setAttribute('data-size', 'medium')\n    }\n  }\n\n  #updateARIA() {\n    const value = this.value\n    const label = this.getAttribute('label')\n\n    if (value === null) {\n      // Indeterminate: remove value attributes per WAI-ARIA spec\n      this.removeAttribute('aria-valuenow')\n      this.removeAttribute('aria-valuemin')\n      this.removeAttribute('aria-valuemax')\n    } else {\n      // Determinate: set value attributes\n      this.setAttribute('aria-valuenow', String(value))\n      this.setAttribute('aria-valuemin', '0')\n      this.setAttribute('aria-valuemax', '100')\n    }\n\n    // Apply label if provided\n    if (label) {\n      this.setAttribute('aria-label', label)\n    } else {\n      this.removeAttribute('aria-label')\n    }\n  }\n\n  // Property getters/setters\n\n  /**\n   * Get/set the progress value (0-100). Null means indeterminate.\n   * @type {number|null}\n   */\n  get value() {\n    const attr = this.getAttribute('value')\n    if (attr === null) return null\n    const num = parseFloat(attr)\n    if (isNaN(num)) return null\n    // Clamp to 0-100\n    return Math.min(100, Math.max(0, num))\n  }\n\n  set value(val) {\n    if (val === null || val === undefined) {\n      this.removeAttribute('value')\n    } else {\n      const clamped = Math.min(100, Math.max(0, Number(val)))\n      this.setAttribute('value', String(clamped))\n    }\n  }\n\n  /**\n   * Get/set whether this is a linear progress bar.\n   * @type {boolean}\n   */\n  get linear() {\n    return this.hasAttribute('linear')\n  }\n\n  set linear(val) {\n    if (val) {\n      this.setAttribute('linear', '')\n    } else {\n      this.removeAttribute('linear')\n    }\n  }\n\n  /**\n   * Read-only: true if no value is set (indeterminate mode).\n   * @type {boolean}\n   */\n  get indeterminate() {\n    return this.value === null\n  }\n\n  /**\n   * Get/set the size variant.\n   * @type {string}\n   */\n  get size() {\n    return this.getAttribute('size') || 'medium'\n  }\n\n  set size(val) {\n    if (['small', 'medium', 'large'].includes(val)) {\n      this.setAttribute('size', val)\n    }\n  }\n}\n\nregister('ytz-progress', YtzProgress)\n\nexport { YtzProgress }\n","/**\n * ytz-select - Dropdown select with trigger button and listbox.\n * @module @grimoire/yetzirah-core/select\n */\nimport { position } from './utils/position.js'\nimport { createKeyNav } from './utils/key-nav.js'\nimport { register } from './utils/register.js'\n\nlet selectId = 0\n\nclass YtzSelect extends HTMLElement {\n  static observedAttributes = ['open', 'multiple', 'disabled', 'placeholder']\n  #trigger = null\n  #listbox = null\n  #keyNav = null\n  #selected = new Set()\n  #id = null\n  #customTrigger = false\n\n  connectedCallback() {\n    this.#setup()\n    if (this.hasAttribute('open')) this.#show()\n    if (this.disabled) this.#updateDisabledState()\n  }\n  disconnectedCallback() { this.#cleanup() }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n    if (name === 'open') newVal !== null ? this.#show() : this.#hide()\n    if (name === 'multiple') this.#listbox?.setAttribute('aria-multiselectable', newVal !== null ? 'true' : 'false')\n    if (name === 'disabled') this.#updateDisabledState()\n  }\n\n  get open() { return this.hasAttribute('open') }\n  set open(v) { v ? this.setAttribute('open', '') : this.removeAttribute('open') }\n  get multiple() { return this.hasAttribute('multiple') }\n  set multiple(v) { v ? this.setAttribute('multiple', '') : this.removeAttribute('multiple') }\n  get disabled() { return this.hasAttribute('disabled') }\n  set disabled(v) { v ? this.setAttribute('disabled', '') : this.removeAttribute('disabled') }\n  get placeholder() { return this.getAttribute('placeholder') || 'Select...' }\n  set placeholder(v) { this.setAttribute('placeholder', v) }\n\n  get value() { return this.multiple ? [...this.#selected] : ([...this.#selected][0] || '') }\n  set value(v) {\n    this.#selected.clear()\n    if (Array.isArray(v)) v.forEach(val => this.#selected.add(val))\n    else if (v) this.#selected.add(v)\n    this.#updateSelectedState()\n    this.#updateTriggerText()\n  }\n\n  get options() { return [...this.querySelectorAll('ytz-option')] }\n  get selectedOptions() { return [...this.querySelectorAll('ytz-option[selected]')] }\n\n  #setup() {\n    this.#id = `ytz-select-${++selectId}`\n    if (!this.id) this.id = this.#id\n    this.#trigger = this.querySelector('[slot=\"trigger\"]')\n    this.#customTrigger = !!this.#trigger\n    if (!this.#trigger) {\n      this.#trigger = document.createElement('button')\n      this.#trigger.setAttribute('slot', 'trigger')\n      this.#trigger.className = this.getAttribute('trigger-class') || ''\n      this.prepend(this.#trigger)\n    }\n    this.#listbox = document.createElement('div')\n    this.#listbox.id = `${this.#id}-listbox`\n    this.#listbox.setAttribute('role', 'listbox')\n    this.#listbox.hidden = true\n    if (this.multiple) this.#listbox.setAttribute('aria-multiselectable', 'true')\n    this.querySelectorAll('ytz-option').forEach(opt => this.#listbox.appendChild(opt))\n    this.appendChild(this.#listbox)\n    this.#trigger.setAttribute('aria-haspopup', 'listbox')\n    this.#trigger.setAttribute('aria-expanded', 'false')\n    this.#trigger.setAttribute('aria-controls', this.#listbox.id)\n    this.#keyNav = createKeyNav(\n      () => [...this.#listbox.querySelectorAll('ytz-option:not([disabled])')],\n      { orientation: 'vertical', wrap: true, autoActivate: false }\n    )\n    this.querySelectorAll('ytz-option[selected]').forEach(opt => {\n      const val = opt.getAttribute('value') || opt.textContent?.trim()\n      if (val) this.#selected.add(val)\n    })\n    this.#updateSelectedState()\n    if (!this.#customTrigger) this.#updateTriggerText()\n    this.#trigger.addEventListener('click', this.#handleTriggerClick)\n    this.#trigger.addEventListener('keydown', this.#handleTriggerKeyDown)\n    this.#listbox.addEventListener('keydown', this.#handleListboxKeyDown)\n    this.addEventListener('option-click', this.#handleOptionClick)\n  }\n\n  #cleanup() {\n    this.#trigger?.removeEventListener('click', this.#handleTriggerClick)\n    this.#trigger?.removeEventListener('keydown', this.#handleTriggerKeyDown)\n    this.#listbox?.removeEventListener('keydown', this.#handleListboxKeyDown)\n    this.removeEventListener('option-click', this.#handleOptionClick)\n    document.removeEventListener('click', this.#handleOutsideClick)\n    document.removeEventListener('keydown', this.#handleEscape)\n  }\n\n  #handleTriggerClick = (e) => { if (this.disabled) return; e.stopPropagation(); this.open = !this.open }\n  #handleTriggerKeyDown = (e) => {\n    if (this.disabled) return\n    if (['ArrowDown', 'ArrowUp', 'Enter', ' '].includes(e.key)) { e.preventDefault(); this.open = true }\n  }\n\n  #handleListboxKeyDown = (e) => {\n    this.#keyNav?.handleKeyDown(e)\n    if (e.key === 'Enter' || e.key === ' ') {\n      const focused = this.#listbox.querySelector('ytz-option:focus')\n      if (focused && !focused.hasAttribute('disabled')) { e.preventDefault(); this.#selectOption(focused) }\n    }\n    if (e.key === 'Tab') { e.preventDefault(); this.open = false; this.#trigger?.focus() }\n  }\n\n  #handleOptionClick = (e) => {\n    if (this.disabled) return\n    const option = e.detail?.option\n    if (option && !option.hasAttribute('disabled')) this.#selectOption(option)\n  }\n\n  #handleOutsideClick = (e) => { if (!this.contains(e.target)) this.open = false }\n  #handleEscape = (e) => { if (e.key === 'Escape' && this.open) { e.preventDefault(); this.open = false; this.#trigger?.focus() } }\n\n  #selectOption(option) {\n    const value = option.getAttribute('value') || option.textContent?.trim()\n    if (!value) return\n    if (this.multiple) {\n      this.#selected.has(value) ? this.#selected.delete(value) : this.#selected.add(value)\n    } else {\n      this.#selected.clear()\n      this.#selected.add(value)\n      this.open = false\n      this.#trigger?.focus()\n    }\n    this.#updateSelectedState()\n    if (!this.#customTrigger) this.#updateTriggerText()\n    this.dispatchEvent(new CustomEvent('change', { bubbles: true, detail: { value: this.value, option } }))\n  }\n\n  #updateSelectedState() {\n    this.querySelectorAll('ytz-option').forEach(opt => {\n      const val = opt.getAttribute('value') || opt.textContent?.trim()\n      const isSelected = this.#selected.has(val)\n      opt.toggleAttribute('selected', isSelected)\n      opt.setAttribute('aria-selected', String(isSelected))\n    })\n  }\n\n  #updateTriggerText() {\n    if (!this.#trigger || this.#customTrigger) return\n    const selected = this.selectedOptions\n    if (selected.length === 0) this.#trigger.textContent = this.placeholder\n    else if (this.multiple) this.#trigger.textContent = selected.map(o => o.textContent?.trim()).join(', ')\n    else this.#trigger.textContent = selected[0]?.textContent?.trim() || this.placeholder\n  }\n\n  #updateDisabledState() {\n    if (this.disabled) { this.#trigger?.setAttribute('disabled', ''); this.#trigger?.setAttribute('aria-disabled', 'true') }\n    else { this.#trigger?.removeAttribute('disabled'); this.#trigger?.removeAttribute('aria-disabled') }\n  }\n\n  #show() {\n    if (!this.#listbox || this.disabled) return\n    this.#trigger?.setAttribute('aria-expanded', 'true')\n    this.#listbox.hidden = false\n    this.#updatePosition()\n    setTimeout(() => document.addEventListener('click', this.#handleOutsideClick), 0)\n    document.addEventListener('keydown', this.#handleEscape)\n    requestAnimationFrame(() => {\n      const selected = this.#listbox.querySelector('ytz-option[selected]:not([disabled])')\n      const first = this.#listbox.querySelector('ytz-option:not([disabled])')\n      ;(selected || first)?.focus()\n    })\n    this.dispatchEvent(new CustomEvent('open', { bubbles: true }))\n  }\n\n  #hide() {\n    if (!this.#listbox) return\n    this.#trigger?.setAttribute('aria-expanded', 'false')\n    this.#listbox.hidden = true\n    document.removeEventListener('click', this.#handleOutsideClick)\n    document.removeEventListener('keydown', this.#handleEscape)\n    this.dispatchEvent(new CustomEvent('close', { bubbles: true }))\n  }\n\n  #updatePosition = () => {\n    if (!this.#trigger || !this.#listbox) return\n    const { x, y, placement } = position(this.#trigger, this.#listbox, { placement: 'bottom', offset: 4 })\n    this.#listbox.style.position = 'fixed'\n    this.#listbox.style.left = `${x}px`\n    this.#listbox.style.top = `${y}px`\n    this.#listbox.style.minWidth = `${this.#trigger.offsetWidth}px`\n    this.#listbox.dataset.placement = placement\n  }\n\n  show() { this.open = true }\n  hide() { this.open = false }\n  toggle() { this.open = !this.open }\n  clear() {\n    this.#selected.clear()\n    this.#updateSelectedState()\n    if (!this.#customTrigger) this.#updateTriggerText()\n    this.dispatchEvent(new CustomEvent('clear', { bubbles: true }))\n  }\n}\n\nregister('ytz-select', YtzSelect)\nexport { YtzSelect }\n","/**\n * ytz-slider - Slider/Range Web Component.\n * An accessible slider with keyboard control and optional range support.\n *\n * @module @grimoire/yetzirah-core/slider\n * @example\n * <ytz-slider min=\"0\" max=\"100\" value=\"50\"></ytz-slider>\n *\n * @example\n * // With step\n * <ytz-slider min=\"0\" max=\"100\" value=\"50\" step=\"10\"></ytz-slider>\n *\n * @example\n * // Disabled\n * <ytz-slider min=\"0\" max=\"100\" value=\"50\" disabled></ytz-slider>\n */\n\nimport { register } from './utils/register.js'\n\n/**\n * @class YtzSlider\n * @extends HTMLElement\n */\nclass YtzSlider extends HTMLElement {\n  static observedAttributes = ['min', 'max', 'value', 'step', 'disabled']\n\n  /** @type {HTMLDivElement|null} */\n  #track = null\n  /** @type {HTMLDivElement|null} */\n  #thumb = null\n  /** @type {boolean} */\n  #dragging = false\n\n  connectedCallback() {\n    this.#setup()\n    this.#updateDisplay()\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('keydown', this.#handleKeydown)\n    this.#thumb?.removeEventListener('mousedown', this.#handleMouseDown)\n    document.removeEventListener('mousemove', this.#handleMouseMove)\n    document.removeEventListener('mouseup', this.#handleMouseUp)\n    this.#thumb?.removeEventListener('touchstart', this.#handleTouchStart)\n    document.removeEventListener('touchmove', this.#handleTouchMove)\n    document.removeEventListener('touchend', this.#handleTouchEnd)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (this.isConnected && oldVal !== newVal) {\n      this.#updateDisplay()\n    }\n  }\n\n  #setup() {\n    // Set up ARIA\n    this.setAttribute('role', 'slider')\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0')\n    }\n\n    // Create track and thumb if not present\n    if (!this.#track) {\n      this.#track = document.createElement('div')\n      this.#track.className = 'ytz-slider-track'\n      this.appendChild(this.#track)\n    }\n\n    if (!this.#thumb) {\n      this.#thumb = document.createElement('div')\n      this.#thumb.className = 'ytz-slider-thumb'\n      this.appendChild(this.#thumb)\n    }\n\n    // Event listeners\n    this.addEventListener('keydown', this.#handleKeydown)\n    this.#thumb.addEventListener('mousedown', this.#handleMouseDown)\n    this.#thumb.addEventListener('touchstart', this.#handleTouchStart, { passive: false })\n    this.addEventListener('click', this.#handleTrackClick)\n  }\n\n  #handleKeydown = (e) => {\n    if (this.disabled) return\n\n    const step = this.step\n    const bigStep = step * 10\n    let newValue = this.value\n\n    switch (e.key) {\n      case 'ArrowRight':\n      case 'ArrowUp':\n        e.preventDefault()\n        newValue = Math.min(this.max, this.value + step)\n        break\n      case 'ArrowLeft':\n      case 'ArrowDown':\n        e.preventDefault()\n        newValue = Math.max(this.min, this.value - step)\n        break\n      case 'PageUp':\n        e.preventDefault()\n        newValue = Math.min(this.max, this.value + bigStep)\n        break\n      case 'PageDown':\n        e.preventDefault()\n        newValue = Math.max(this.min, this.value - bigStep)\n        break\n      case 'Home':\n        e.preventDefault()\n        newValue = this.min\n        break\n      case 'End':\n        e.preventDefault()\n        newValue = this.max\n        break\n      default:\n        return\n    }\n\n    if (newValue !== this.value) {\n      this.value = newValue\n      this.#dispatchChange()\n    }\n  }\n\n  #handleMouseDown = (e) => {\n    if (this.disabled) return\n    e.preventDefault()\n    this.#dragging = true\n    document.addEventListener('mousemove', this.#handleMouseMove)\n    document.addEventListener('mouseup', this.#handleMouseUp)\n  }\n\n  #handleMouseMove = (e) => {\n    if (!this.#dragging) return\n    this.#updateValueFromPointer(e.clientX)\n  }\n\n  #handleMouseUp = () => {\n    if (this.#dragging) {\n      this.#dragging = false\n      document.removeEventListener('mousemove', this.#handleMouseMove)\n      document.removeEventListener('mouseup', this.#handleMouseUp)\n      this.#dispatchChange()\n    }\n  }\n\n  #handleTouchStart = (e) => {\n    if (this.disabled) return\n    e.preventDefault()\n    this.#dragging = true\n    document.addEventListener('touchmove', this.#handleTouchMove, { passive: false })\n    document.addEventListener('touchend', this.#handleTouchEnd)\n  }\n\n  #handleTouchMove = (e) => {\n    if (!this.#dragging) return\n    e.preventDefault()\n    const touch = e.touches[0]\n    this.#updateValueFromPointer(touch.clientX)\n  }\n\n  #handleTouchEnd = () => {\n    if (this.#dragging) {\n      this.#dragging = false\n      document.removeEventListener('touchmove', this.#handleTouchMove)\n      document.removeEventListener('touchend', this.#handleTouchEnd)\n      this.#dispatchChange()\n    }\n  }\n\n  #handleTrackClick = (e) => {\n    if (this.disabled) return\n    if (e.target === this.#thumb) return\n    this.#updateValueFromPointer(e.clientX)\n    this.#dispatchChange()\n  }\n\n  #updateValueFromPointer(clientX) {\n    const rect = this.getBoundingClientRect()\n    const percent = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width))\n    const range = this.max - this.min\n    let newValue = this.min + percent * range\n\n    // Snap to step\n    const step = this.step\n    newValue = Math.round(newValue / step) * step\n    newValue = Math.max(this.min, Math.min(this.max, newValue))\n\n    this.value = newValue\n  }\n\n  #updateDisplay() {\n    const percent = ((this.value - this.min) / (this.max - this.min)) * 100\n\n    // Update ARIA attributes\n    this.setAttribute('aria-valuemin', String(this.min))\n    this.setAttribute('aria-valuemax', String(this.max))\n    this.setAttribute('aria-valuenow', String(this.value))\n    this.setAttribute('aria-disabled', String(this.disabled))\n\n    // Position thumb\n    if (this.#thumb) {\n      this.#thumb.style.left = `${percent}%`\n    }\n\n    // Update track fill (via CSS custom property)\n    this.style.setProperty('--slider-percent', `${percent}%`)\n  }\n\n  #dispatchChange() {\n    this.dispatchEvent(new CustomEvent('change', {\n      bubbles: true,\n      detail: { value: this.value }\n    }))\n  }\n\n  // Property getters/setters\n  get min() {\n    return parseFloat(this.getAttribute('min')) || 0\n  }\n\n  set min(val) {\n    this.setAttribute('min', String(val))\n  }\n\n  get max() {\n    return parseFloat(this.getAttribute('max')) || 100\n  }\n\n  set max(val) {\n    this.setAttribute('max', String(val))\n  }\n\n  get value() {\n    const val = parseFloat(this.getAttribute('value'))\n    if (isNaN(val)) return this.min\n    return Math.max(this.min, Math.min(this.max, val))\n  }\n\n  set value(val) {\n    const num = Math.max(this.min, Math.min(this.max, parseFloat(val) || 0))\n    this.setAttribute('value', String(num))\n  }\n\n  get step() {\n    return parseFloat(this.getAttribute('step')) || 1\n  }\n\n  set step(val) {\n    this.setAttribute('step', String(val))\n  }\n\n  get disabled() {\n    return this.hasAttribute('disabled')\n  }\n\n  set disabled(val) {\n    if (val) {\n      this.setAttribute('disabled', '')\n    } else {\n      this.removeAttribute('disabled')\n    }\n  }\n}\n\nregister('ytz-slider', YtzSlider)\n\nexport { YtzSlider }\n","/**\n * ytz-snackbar - Transient notification Web Component.\n * Provides auto-dismissing notifications with queue management and positioning.\n *\n * @module @grimoire/yetzirah-core/snackbar\n * @example\n * <ytz-snackbar id=\"snack\">File saved successfully</ytz-snackbar>\n *\n * @example\n * // Show snackbar programmatically\n * document.getElementById('snack').show()\n *\n * @example\n * // Positioned snackbar with custom duration\n * <ytz-snackbar position=\"top-right\" duration=\"3000\">\n *   Quick message\n * </ytz-snackbar>\n */\n\nimport { register } from './utils/register.js'\n\n/** @type {Map<string, YtzSnackbar[]>} Queue of active snackbars by position */\nconst snackbarQueues = new Map()\n\n/** Valid position values */\nconst VALID_POSITIONS = ['top-left', 'top-center', 'top-right', 'bottom-left', 'bottom-center', 'bottom-right']\n\n/**\n * @class YtzSnackbar\n * @extends HTMLElement\n */\nclass YtzSnackbar extends HTMLElement {\n  static observedAttributes = ['open', 'duration', 'position', 'dismissible', 'max-visible']\n\n  /** @type {number|null} */\n  #dismissTimer = null\n  /** @type {HTMLButtonElement|null} */\n  #closeButton = null\n  /** @type {boolean} */\n  #isPaused = false\n  /** @type {string|null} */\n  #pendingDismissReason = null\n\n  connectedCallback() {\n    // Set up accessibility attributes\n    this.setAttribute('role', 'status')\n    this.setAttribute('aria-live', 'polite')\n    this.setAttribute('aria-atomic', 'true')\n\n    // Initialize visibility\n    if (!this.hasAttribute('open')) {\n      this.hidden = true\n    }\n\n    // Set up close button if dismissible\n    this.#setupCloseButton()\n\n    // Set up hover pause behavior\n    this.addEventListener('mouseenter', this.#handleMouseEnter)\n    this.addEventListener('mouseleave', this.#handleMouseLeave)\n\n    // If already open, register in queue\n    if (this.hasAttribute('open')) {\n      this.#show()\n    }\n  }\n\n  disconnectedCallback() {\n    this.#cleanup()\n    this.removeEventListener('mouseenter', this.#handleMouseEnter)\n    this.removeEventListener('mouseleave', this.#handleMouseLeave)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n\n    if (name === 'open') {\n      if (newVal !== null) {\n        this.#show()\n      } else {\n        // Use pending reason if set (e.g., from timeout), otherwise 'manual'\n        const reason = this.#pendingDismissReason || 'manual'\n        this.#pendingDismissReason = null\n        this.#hide(reason)\n      }\n    } else if (name === 'dismissible') {\n      this.#setupCloseButton()\n    } else if (name === 'position') {\n      // Re-register in correct queue if position changes while open\n      if (this.hasAttribute('open') && oldVal !== newVal) {\n        this.#removeFromQueue(oldVal || 'bottom-center')\n        this.#addToQueue()\n      }\n    }\n  }\n\n  #setupCloseButton() {\n    // Remove existing button if any\n    this.#closeButton?.remove()\n    this.#closeButton = null\n\n    if (this.dismissible) {\n      this.#closeButton = document.createElement('button')\n      this.#closeButton.type = 'button'\n      this.#closeButton.setAttribute('aria-label', 'Dismiss')\n      this.#closeButton.className = 'ytz-snackbar-close'\n      this.#closeButton.textContent = '\\u00D7'\n      this.#closeButton.addEventListener('click', this.#handleClose)\n      this.appendChild(this.#closeButton)\n    }\n  }\n\n  #show() {\n    // Clear any pending dismiss\n    this.#clearTimer()\n\n    // Show the snackbar\n    this.hidden = false\n\n    // Add to position queue\n    this.#addToQueue()\n\n    // Set up auto-dismiss timer\n    if (this.duration > 0) {\n      this.#startTimer()\n    }\n  }\n\n  #hide(reason = 'manual') {\n    this.#clearTimer()\n    this.hidden = true\n    this.#removeFromQueue(this.position)\n\n    // Dispatch dismiss event\n    this.dispatchEvent(new CustomEvent('dismiss', {\n      bubbles: true,\n      detail: { reason }\n    }))\n  }\n\n  #startTimer() {\n    this.#dismissTimer = window.setTimeout(() => {\n      // Set pending reason before removing attribute (triggers attributeChangedCallback)\n      this.#pendingDismissReason = 'timeout'\n      this.removeAttribute('open')\n    }, this.duration)\n  }\n\n  #clearTimer() {\n    if (this.#dismissTimer !== null) {\n      clearTimeout(this.#dismissTimer)\n      this.#dismissTimer = null\n    }\n  }\n\n  #handleMouseEnter = () => {\n    if (this.duration > 0 && this.#dismissTimer !== null) {\n      this.#isPaused = true\n      this.#clearTimer()\n    }\n  }\n\n  #handleMouseLeave = () => {\n    if (this.#isPaused && this.hasAttribute('open')) {\n      this.#isPaused = false\n      this.#startTimer()\n    }\n  }\n\n  #handleClose = (e) => {\n    e.stopPropagation()\n    this.removeAttribute('open')\n  }\n\n  #addToQueue() {\n    const pos = this.position\n    if (!snackbarQueues.has(pos)) {\n      snackbarQueues.set(pos, [])\n    }\n\n    const queue = snackbarQueues.get(pos)\n    if (!queue.includes(this)) {\n      queue.push(this)\n    }\n\n    // Enforce max-visible limit\n    this.#enforceMaxVisible()\n    this.#updateOffsets()\n  }\n\n  #removeFromQueue(pos) {\n    const queue = snackbarQueues.get(pos)\n    if (queue) {\n      const index = queue.indexOf(this)\n      if (index > -1) {\n        queue.splice(index, 1)\n        this.#updateOffsets()\n      }\n    }\n  }\n\n  #enforceMaxVisible() {\n    const queue = snackbarQueues.get(this.position) || []\n    const max = this.maxVisible\n\n    // Remove oldest snackbars if queue exceeds max\n    while (queue.length > max) {\n      const oldest = queue[0]\n      oldest.removeAttribute('open')\n    }\n  }\n\n  #updateOffsets() {\n    const pos = this.position\n    const queue = snackbarQueues.get(pos) || []\n    const isTop = pos.startsWith('top')\n\n    let offset = 0\n    for (const snackbar of queue) {\n      snackbar.style.setProperty('--ytz-snackbar-offset', `${offset}px`)\n      // Measure height for next snackbar's offset\n      const height = snackbar.offsetHeight || 0\n      offset += height + 8 // 8px gap between stacked snackbars\n    }\n  }\n\n  #cleanup() {\n    this.#clearTimer()\n    this.#removeFromQueue(this.position)\n    this.#closeButton?.removeEventListener('click', this.#handleClose)\n  }\n\n  // Public methods\n\n  /**\n   * Show the snackbar, optionally updating its message content.\n   * @param {string} [message] - Optional message to display\n   */\n  show(message) {\n    if (message !== undefined) {\n      // Update text content while preserving close button\n      const closeBtn = this.#closeButton\n      this.textContent = message\n      if (closeBtn && this.dismissible) {\n        this.appendChild(closeBtn)\n      }\n    }\n    this.setAttribute('open', '')\n  }\n\n  /**\n   * Dismiss the snackbar programmatically.\n   */\n  dismiss() {\n    this.removeAttribute('open')\n  }\n\n  // Property getters/setters\n\n  /**\n   * Get/set the open state.\n   * @type {boolean}\n   */\n  get open() {\n    return this.hasAttribute('open')\n  }\n\n  set open(value) {\n    if (value) {\n      this.setAttribute('open', '')\n    } else {\n      this.removeAttribute('open')\n    }\n  }\n\n  /**\n   * Get/set the auto-dismiss duration in milliseconds.\n   * @type {number}\n   */\n  get duration() {\n    const val = this.getAttribute('duration')\n    return val !== null ? parseInt(val, 10) : 5000\n  }\n\n  set duration(value) {\n    this.setAttribute('duration', String(value))\n  }\n\n  /**\n   * Get/set the position.\n   * @type {string}\n   */\n  get position() {\n    const pos = this.getAttribute('position')\n    return VALID_POSITIONS.includes(pos) ? pos : 'bottom-center'\n  }\n\n  set position(value) {\n    if (VALID_POSITIONS.includes(value)) {\n      this.setAttribute('position', value)\n    }\n  }\n\n  /**\n   * Get/set whether the close button is shown.\n   * @type {boolean}\n   */\n  get dismissible() {\n    return this.hasAttribute('dismissible')\n  }\n\n  set dismissible(value) {\n    if (value) {\n      this.setAttribute('dismissible', '')\n    } else {\n      this.removeAttribute('dismissible')\n    }\n  }\n\n  /**\n   * Get/set the maximum number of visible snackbars at this position.\n   * @type {number}\n   */\n  get maxVisible() {\n    const val = this.getAttribute('max-visible')\n    return val !== null ? parseInt(val, 10) : 3\n  }\n\n  set maxVisible(value) {\n    this.setAttribute('max-visible', String(value))\n  }\n}\n\nregister('ytz-snackbar', YtzSnackbar)\n\nexport { YtzSnackbar }\n","/**\n * ytz-tabs - Tabbed interface Web Components.\n * @module @grimoire/yetzirah-core/tabs\n * @example\n * <ytz-tabs>\n *   <ytz-tab panel=\"tab1\">Account</ytz-tab>\n *   <ytz-tabpanel id=\"tab1\">Account content</ytz-tabpanel>\n * </ytz-tabs>\n */\n\nimport { createKeyNav } from './utils/key-nav.js'\nimport { register } from './utils/register.js'\n\nlet tabId = 0\n\n/** @class YtzTabs */\nclass YtzTabs extends HTMLElement {\n  static observedAttributes = ['value', 'orientation']\n  #keyNav = null\n\n  connectedCallback() {\n    this.setAttribute('role', 'tablist')\n    this.#setupKeyNav()\n    if (!this.hasAttribute('value')) {\n      const firstTab = this.querySelector('ytz-tab')\n      if (firstTab?.getAttribute('panel')) {\n        this.setAttribute('value', firstTab.getAttribute('panel'))\n      }\n    }\n    this.#updateSelection()\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (!this.isConnected) return\n    if (name === 'value' && oldVal !== newVal) {\n      this.#updateSelection()\n      if (oldVal !== null) {\n        this.dispatchEvent(new CustomEvent('change', { bubbles: true, detail: { value: newVal } }))\n      }\n    }\n    if (name === 'orientation') this.#setupKeyNav()\n  }\n\n  #setupKeyNav() {\n    const orientation = this.getAttribute('orientation') === 'vertical' ? 'vertical' : 'horizontal'\n    this.#keyNav = createKeyNav(\n      () => [...this.querySelectorAll('ytz-tab')],\n      {\n        orientation,\n        wrap: true,\n        autoActivate: true,\n        onActivate: (tab) => {\n          const panel = tab.getAttribute('panel')\n          if (panel) this.value = panel\n        }\n      }\n    )\n    this.addEventListener('keydown', this.#handleKeyDown)\n  }\n\n  #handleKeyDown = (e) => this.#keyNav?.handleKeyDown(e)\n\n  #updateSelection() {\n    const value = this.getAttribute('value')\n    this.querySelectorAll('ytz-tab').forEach((tab) => {\n      const isSelected = tab.getAttribute('panel') === value\n      tab.setAttribute('aria-selected', String(isSelected))\n      tab.setAttribute('tabindex', isSelected ? '0' : '-1')\n    })\n    this.querySelectorAll('ytz-tabpanel').forEach((panel) => {\n      panel.hidden = panel.id !== value\n    })\n  }\n\n  get value() { return this.getAttribute('value') }\n  set value(v) { v ? this.setAttribute('value', v) : this.removeAttribute('value') }\n\n  get orientation() {\n    return this.getAttribute('orientation') === 'vertical' ? 'vertical' : 'horizontal'\n  }\n  set orientation(v) { this.setAttribute('orientation', v) }\n}\n\n/** @class YtzTab */\nclass YtzTab extends HTMLElement {\n  connectedCallback() {\n    this.setAttribute('role', 'tab')\n    if (!this.hasAttribute('tabindex')) this.setAttribute('tabindex', '-1')\n    if (!this.id) this.id = `ytz-tab-${++tabId}`\n    const panelId = this.getAttribute('panel')\n    if (panelId) this.setAttribute('aria-controls', panelId)\n    this.addEventListener('click', this.#handleClick)\n  }\n\n  disconnectedCallback() { this.removeEventListener('click', this.#handleClick) }\n\n  #handleClick = () => {\n    const tabs = this.closest('ytz-tabs')\n    const panel = this.getAttribute('panel')\n    if (tabs && panel) tabs.value = panel\n  }\n\n  get panel() { return this.getAttribute('panel') }\n  set panel(v) {\n    if (v) {\n      this.setAttribute('panel', v)\n      this.setAttribute('aria-controls', v)\n    } else {\n      this.removeAttribute('panel')\n      this.removeAttribute('aria-controls')\n    }\n  }\n}\n\n/** @class YtzTabPanel */\nclass YtzTabPanel extends HTMLElement {\n  connectedCallback() {\n    this.setAttribute('role', 'tabpanel')\n    const tabs = this.closest('ytz-tabs')\n    if (tabs) {\n      this.hidden = this.id !== tabs.getAttribute('value')\n    } else {\n      this.hidden = true\n    }\n    this.#linkToTab()\n  }\n\n  #linkToTab() {\n    const tabs = this.closest('ytz-tabs')\n    if (!tabs || !this.id) return\n    const tab = tabs.querySelector(`ytz-tab[panel=\"${this.id}\"]`)\n    if (tab) {\n      if (!tab.id) tab.id = `ytz-tab-${++tabId}`\n      this.setAttribute('aria-labelledby', tab.id)\n    }\n  }\n}\n\nregister('ytz-tabs', YtzTabs)\nregister('ytz-tab', YtzTab)\nregister('ytz-tabpanel', YtzTabPanel)\n\nexport { YtzTabs, YtzTab, YtzTabPanel }\n","/**\n * ytz-toggle - Switch/Toggle Web Component.\n * A toggle switch with checkbox semantics and aria-checked.\n *\n * @module @grimoire/yetzirah-core/toggle\n * @example\n * <ytz-toggle>Enable notifications</ytz-toggle>\n *\n * @example\n * // Initially checked\n * <ytz-toggle checked>Dark mode</ytz-toggle>\n *\n * @example\n * // Disabled\n * <ytz-toggle disabled>Premium feature</ytz-toggle>\n */\n\nimport { register } from './utils/register.js'\n\n/**\n * @class YtzToggle\n * @extends HTMLElement\n */\nclass YtzToggle extends HTMLElement {\n  static observedAttributes = ['checked', 'disabled']\n\n  connectedCallback() {\n    this.#setup()\n    this.#updateState()\n  }\n\n  #setup() {\n    // Set role and make focusable\n    this.setAttribute('role', 'switch')\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0')\n    }\n\n    // Event listeners\n    this.addEventListener('click', this.#handleClick)\n    this.addEventListener('keydown', this.#handleKeydown)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this.#handleClick)\n    this.removeEventListener('keydown', this.#handleKeydown)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (this.isConnected) {\n      this.#updateState()\n    }\n  }\n\n  #handleClick = () => {\n    if (this.disabled) return\n    this.toggle()\n  }\n\n  #handleKeydown = (e) => {\n    if (this.disabled) return\n\n    if (e.key === ' ' || e.key === 'Enter') {\n      e.preventDefault()\n      this.toggle()\n    }\n  }\n\n  #updateState() {\n    this.setAttribute('aria-checked', String(this.checked))\n    this.setAttribute('aria-disabled', String(this.disabled))\n  }\n\n  /**\n   * Toggle the checked state.\n   * Dispatches a 'change' event with the new state.\n   */\n  toggle() {\n    const willCheck = !this.checked\n\n    if (willCheck) {\n      this.setAttribute('checked', '')\n    } else {\n      this.removeAttribute('checked')\n    }\n\n    this.dispatchEvent(new CustomEvent('change', {\n      bubbles: true,\n      detail: { checked: willCheck }\n    }))\n  }\n\n  /**\n   * Get/set the checked state.\n   * @type {boolean}\n   */\n  get checked() {\n    return this.hasAttribute('checked')\n  }\n\n  set checked(value) {\n    if (value) {\n      this.setAttribute('checked', '')\n    } else {\n      this.removeAttribute('checked')\n    }\n  }\n\n  /**\n   * Get/set the disabled state.\n   * @type {boolean}\n   */\n  get disabled() {\n    return this.hasAttribute('disabled')\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '')\n    } else {\n      this.removeAttribute('disabled')\n    }\n  }\n}\n\nregister('ytz-toggle', YtzToggle)\n\nexport { YtzToggle }\n","/**\n * ytz-theme-toggle - Theme switching Web Component.\n * A toggle switch that controls light/dark theme with persistence.\n *\n * @module @grimoire/yetzirah-core/theme-toggle\n * @example\n * <ytz-theme-toggle></ytz-theme-toggle>\n *\n * @example\n * // With custom storage key\n * <ytz-theme-toggle storage-key=\"my-app-theme\"></ytz-theme-toggle>\n *\n * @example\n * // Without persistence\n * <ytz-theme-toggle no-persist></ytz-theme-toggle>\n */\n\nimport './toggle.js'\nimport { register } from './utils/register.js'\n\n/** @type {string} Default localStorage key */\nconst DEFAULT_STORAGE_KEY = 'yetzirah-theme'\n\n/** @type {string} CSS class applied to document for dark mode */\nconst DARK_CLASS = 'dark-mode'\n\n/** @type {string} Data attribute for theme */\nconst THEME_ATTR = 'data-theme'\n\n/**\n * @class YtzThemeToggle\n * @extends HTMLElement\n */\nclass YtzThemeToggle extends HTMLElement {\n  static observedAttributes = ['storage-key', 'no-persist']\n\n  /** @type {HTMLElement|null} */\n  #toggle = null\n\n  connectedCallback() {\n    this.#setup()\n    this.#initializeTheme()\n  }\n\n  disconnectedCallback() {\n    this.#toggle?.removeEventListener('change', this.#handleChange)\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (this.isConnected && name === 'storage-key') {\n      this.#initializeTheme()\n    }\n  }\n\n  #setup() {\n    // Create inner toggle if not present\n    if (!this.#toggle) {\n      this.#toggle = document.createElement('ytz-toggle')\n      this.#toggle.setAttribute('aria-label', 'Toggle dark mode')\n\n      // Move existing children into toggle as label\n      while (this.firstChild) {\n        this.#toggle.appendChild(this.firstChild)\n      }\n\n      // Default label if no children provided\n      // Use hasChildNodes() instead of textContent to preserve element children like styling spans\n      if (!this.#toggle.hasChildNodes()) {\n        this.#toggle.textContent = 'Dark mode'\n      }\n\n      this.appendChild(this.#toggle)\n    }\n\n    this.#toggle.addEventListener('change', this.#handleChange)\n  }\n\n  #initializeTheme() {\n    const savedTheme = this.#loadTheme()\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n\n    // Determine initial theme: saved > system preference > light\n    const isDark = savedTheme === 'dark' || (savedTheme === null && prefersDark)\n\n    this.#applyTheme(isDark)\n    this.#updateToggle(isDark)\n\n    // Listen for system preference changes\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {\n      if (!this.#loadTheme()) {\n        // Only respond to system changes if no saved preference\n        this.#applyTheme(e.matches)\n        this.#updateToggle(e.matches)\n      }\n    })\n  }\n\n  #handleChange = (e) => {\n    const isDark = e.detail.checked\n    this.#applyTheme(isDark)\n    this.#saveTheme(isDark ? 'dark' : 'light')\n\n    this.dispatchEvent(new CustomEvent('themechange', {\n      bubbles: true,\n      detail: { theme: isDark ? 'dark' : 'light', isDark }\n    }))\n  }\n\n  #applyTheme(isDark) {\n    const root = document.documentElement\n\n    if (isDark) {\n      root.classList.add(DARK_CLASS)\n      root.setAttribute(THEME_ATTR, 'dark')\n    } else {\n      root.classList.remove(DARK_CLASS)\n      root.setAttribute(THEME_ATTR, 'light')\n    }\n  }\n\n  #updateToggle(isDark) {\n    if (!this.#toggle) return\n\n    if (isDark) {\n      this.#toggle.setAttribute('checked', '')\n    } else {\n      this.#toggle.removeAttribute('checked')\n    }\n  }\n\n  #loadTheme() {\n    if (this.hasAttribute('no-persist')) return null\n\n    try {\n      return localStorage.getItem(this.storageKey)\n    } catch {\n      // localStorage may be unavailable\n      return null\n    }\n  }\n\n  #saveTheme(theme) {\n    if (this.hasAttribute('no-persist')) return\n\n    try {\n      localStorage.setItem(this.storageKey, theme)\n    } catch {\n      // localStorage may be unavailable\n    }\n  }\n\n  /**\n   * Get the storage key for theme persistence.\n   * @type {string}\n   */\n  get storageKey() {\n    return this.getAttribute('storage-key') || DEFAULT_STORAGE_KEY\n  }\n\n  set storageKey(value) {\n    this.setAttribute('storage-key', value)\n  }\n\n  /**\n   * Get the current theme.\n   * @type {'light'|'dark'}\n   */\n  get theme() {\n    return document.documentElement.classList.contains(DARK_CLASS) ? 'dark' : 'light'\n  }\n\n  /**\n   * Set the theme programmatically.\n   * @param {'light'|'dark'} value\n   */\n  set theme(value) {\n    const isDark = value === 'dark'\n    this.#applyTheme(isDark)\n    this.#updateToggle(isDark)\n    this.#saveTheme(value)\n  }\n\n  /**\n   * Check if dark mode is active.\n   * @type {boolean}\n   */\n  get isDark() {\n    return this.theme === 'dark'\n  }\n\n  /**\n   * Toggle the theme.\n   */\n  toggle() {\n    this.theme = this.isDark ? 'light' : 'dark'\n  }\n}\n\nregister('ytz-theme-toggle', YtzThemeToggle)\n\nexport { YtzThemeToggle }\n","/**\n * ytz-tooltip - Positioned hint text Web Component.\n * Shows on hover/focus with configurable delay and placement.\n *\n * @module @grimoire/yetzirah-core/tooltip\n * @example\n * <ytz-tooltip>\n *   <button>Hover me</button>\n *   <span slot=\"content\">Tooltip text</span>\n * </ytz-tooltip>\n *\n * @example\n * // With placement and delay\n * <ytz-tooltip placement=\"bottom\" delay=\"200\">\n *   <button>Hover me</button>\n *   <span slot=\"content\">Bottom tooltip</span>\n * </ytz-tooltip>\n */\n\nimport { position } from './utils/position.js'\nimport { register } from './utils/register.js'\n\nlet tooltipId = 0\n\n/**\n * @class YtzTooltip\n * @extends HTMLElement\n */\nclass YtzTooltip extends HTMLElement {\n  static observedAttributes = ['placement', 'delay', 'offset']\n\n  /** @type {HTMLElement|null} */\n  #trigger = null\n  /** @type {HTMLElement|null} */\n  #content = null\n  /** @type {string|null} */\n  #contentId = null\n  /** @type {number|null} */\n  #showTimeout = null\n  /** @type {number|null} */\n  #hideTimeout = null\n  /** @type {boolean} */\n  #isVisible = false\n\n  connectedCallback() {\n    this.#setup()\n  }\n\n  disconnectedCallback() {\n    this.#cleanup()\n    clearTimeout(this.#showTimeout)\n    clearTimeout(this.#hideTimeout)\n  }\n\n  attributeChangedCallback() {\n    if (this.#isVisible) this.#updatePosition()\n  }\n\n  /** @returns {'top'|'bottom'|'left'|'right'} */\n  get placement() {\n    return this.getAttribute('placement') || 'top'\n  }\n\n  /** @param {'top'|'bottom'|'left'|'right'} value */\n  set placement(value) {\n    if (value) {\n      this.setAttribute('placement', value)\n    } else {\n      this.removeAttribute('placement')\n    }\n  }\n\n  /** @returns {number} */\n  get delay() {\n    return parseInt(this.getAttribute('delay') || '0', 10)\n  }\n\n  /** @param {number} value */\n  set delay(value) {\n    if (value != null) {\n      this.setAttribute('delay', String(value))\n    } else {\n      this.removeAttribute('delay')\n    }\n  }\n\n  /** @returns {number} */\n  get offset() {\n    return parseInt(this.getAttribute('offset') || '8', 10)\n  }\n\n  /** @param {number} value */\n  set offset(value) {\n    if (value != null) {\n      this.setAttribute('offset', String(value))\n    } else {\n      this.removeAttribute('offset')\n    }\n  }\n\n  #setup() {\n    // Find trigger (first child) and content ([slot=\"content\"] or last child)\n    this.#trigger = this.firstElementChild\n    this.#content = this.querySelector('[slot=\"content\"]') || this.lastElementChild\n\n    if (!this.#trigger || !this.#content || this.#trigger === this.#content) return\n\n    // Generate unique ID for content\n    this.#contentId = this.#content.id || `ytz-tooltip-${++tooltipId}`\n    this.#content.id = this.#contentId\n\n    // Set up ARIA\n    this.#trigger.setAttribute('aria-describedby', this.#contentId)\n    this.#content.setAttribute('role', 'tooltip')\n    this.#content.hidden = true\n\n    // Hover listeners\n    this.#trigger.addEventListener('mouseenter', this.#handleMouseEnter)\n    this.#trigger.addEventListener('mouseleave', this.#handleMouseLeave)\n    this.#content.addEventListener('mouseenter', this.#handleContentMouseEnter)\n    this.#content.addEventListener('mouseleave', this.#handleMouseLeave)\n\n    // Focus listeners\n    this.#trigger.addEventListener('focusin', this.#handleFocusIn)\n    this.#trigger.addEventListener('focusout', this.#handleFocusOut)\n\n    // Touch support\n    this.#trigger.addEventListener('touchstart', this.#handleTouchStart, { passive: true })\n  }\n\n  #cleanup() {\n    this.#trigger?.removeEventListener('mouseenter', this.#handleMouseEnter)\n    this.#trigger?.removeEventListener('mouseleave', this.#handleMouseLeave)\n    this.#content?.removeEventListener('mouseenter', this.#handleContentMouseEnter)\n    this.#content?.removeEventListener('mouseleave', this.#handleMouseLeave)\n    this.#trigger?.removeEventListener('focusin', this.#handleFocusIn)\n    this.#trigger?.removeEventListener('focusout', this.#handleFocusOut)\n    this.#trigger?.removeEventListener('touchstart', this.#handleTouchStart)\n  }\n\n  #handleMouseEnter = () => {\n    clearTimeout(this.#hideTimeout)\n    this.#showTimeout = setTimeout(() => this.#show(), this.delay)\n  }\n\n  #handleMouseLeave = () => {\n    clearTimeout(this.#showTimeout)\n    this.#hideTimeout = setTimeout(() => this.#hide(), 100)\n  }\n\n  #handleContentMouseEnter = () => {\n    clearTimeout(this.#hideTimeout)\n  }\n\n  #handleFocusIn = () => {\n    clearTimeout(this.#hideTimeout)\n    this.#show() // No delay for focus (accessibility)\n  }\n\n  #handleFocusOut = () => {\n    this.#hide()\n  }\n\n  #handleTouchStart = () => {\n    if (this.#isVisible) {\n      this.#hide()\n    } else {\n      this.#show()\n    }\n  }\n\n  #show() {\n    if (!this.#content || this.#isVisible) return\n\n    this.#content.hidden = false\n    this.#isVisible = true\n    this.#updatePosition()\n\n    // Listen for scroll/resize to reposition\n    window.addEventListener('scroll', this.#updatePosition, { passive: true, capture: true })\n    window.addEventListener('resize', this.#updatePosition, { passive: true })\n\n    this.dispatchEvent(new CustomEvent('show', { bubbles: true }))\n  }\n\n  #hide() {\n    if (!this.#content || !this.#isVisible) return\n\n    this.#content.hidden = true\n    this.#isVisible = false\n\n    window.removeEventListener('scroll', this.#updatePosition, { capture: true })\n    window.removeEventListener('resize', this.#updatePosition)\n\n    this.dispatchEvent(new CustomEvent('hide', { bubbles: true }))\n  }\n\n  #updatePosition = () => {\n    if (!this.#trigger || !this.#content) return\n\n    const { x, y, placement: finalPlacement } = position(this.#trigger, this.#content, {\n      placement: this.placement,\n      offset: this.offset\n    })\n\n    // Position tooltip fixed relative to viewport\n    this.#content.style.position = 'fixed'\n    this.#content.style.left = `${x}px`\n    this.#content.style.top = `${y}px`\n\n    // Set data attribute for CSS arrow styling\n    this.#content.dataset.placement = finalPlacement\n  }\n\n  // Public API\n\n  /** Show the tooltip programmatically */\n  show() {\n    clearTimeout(this.#hideTimeout)\n    this.#show()\n  }\n\n  /** Hide the tooltip programmatically */\n  hide() {\n    clearTimeout(this.#showTimeout)\n    this.#hide()\n  }\n}\n\nregister('ytz-tooltip', YtzTooltip)\n\nexport { YtzTooltip }\n","/**\n * @grimoire/yetzirah-core\n *\n * Web Components for behavioral UI patterns.\n * Zero dependencies, framework-agnostic, accessibility-first.\n *\n * @packageDocumentation\n */\n\n// Components\nexport { YtzAccordion, YtzAccordionItem } from './accordion.js'\nexport { YtzButton } from './button.js'\nexport { YtzDialog } from './dialog.js'\nexport { YtzDisclosure } from './disclosure.js'\nexport { YtzDrawer } from './drawer.js'\nexport { YtzTabs, YtzTab, YtzTabPanel } from './tabs.js'\nexport { YtzTooltip } from './tooltip.js'\nexport { YtzPopover } from './popover.js'\nexport { YtzMenu, YtzMenuItem } from './menu.js'\nexport { YtzAutocomplete, YtzOption } from './autocomplete.js'\nexport { YtzListbox } from './listbox.js'\nexport { YtzSelect } from './select.js'\nexport { YtzToggle } from './toggle.js'\nexport { YtzChip } from './chip.js'\nexport { YtzIconButton } from './icon-button.js'\nexport { YtzSlider } from './slider.js'\nexport { YtzDatagrid, YtzDatagridColumn } from './datagrid.js'\nexport { YtzSnackbar } from './snackbar.js'\nexport { YtzProgress } from './progress.js'\nexport { YtzBadge } from './badge.js'\n\n/**\n * Yetzirah version\n * @type {string}\n */\nexport const VERSION = '0.1.0'\nexport { YtzThemeToggle } from './theme-toggle.js'\n","/**\n * CDN Entry Point with Auto-Registration\n *\n * This is the primary entry point for CDN usage via <script type=\"module\">.\n * All components are automatically registered as custom elements when this\n * module is loaded - no additional JavaScript required.\n *\n * Usage:\n *   <script type=\"module\" src=\"https://cdn.jsdelivr.net/npm/@grimoire/yetzirah-core@latest/cdn/auto.js\"></script>\n *\n * After loading, all ytz-* elements are available:\n *   <ytz-dialog>...</ytz-dialog>\n *   <ytz-button>...</ytz-button>\n *   etc.\n *\n * Features:\n * - Idempotent: Safe to load multiple times (no duplicate registration errors)\n * - Self-contained: All components bundled, no external dependencies\n * - Side-effect module: Registers elements on import\n *\n * @module @grimoire/yetzirah-core/cdn/auto\n */\n\n// Import all components (triggers their registration via side effects)\nimport './accordion.js'\nimport './autocomplete.js'\nimport './badge.js'\nimport './button.js'\nimport './chip.js'\nimport './datagrid.js'\nimport './dialog.js'\nimport './disclosure.js'\nimport './drawer.js'\nimport './icon-button.js'\nimport './listbox.js'\nimport './menu.js'\nimport './popover.js'\nimport './progress.js'\nimport './select.js'\nimport './slider.js'\nimport './snackbar.js'\nimport './tabs.js'\nimport './theme-toggle.js'\nimport './toggle.js'\nimport './tooltip.js'\n\n// Re-export everything for programmatic access\nexport * from './index.js'\n\n/**\n * Verify all components are registered.\n * Useful for debugging registration issues.\n *\n * @returns {Object} Registration status for all components\n */\nexport function getRegistrationStatus() {\n  const components = [\n    'ytz-accordion',\n    'ytz-accordion-item',\n    'ytz-autocomplete',\n    'ytz-badge',\n    'ytz-button',\n    'ytz-chip',\n    'ytz-datagrid',\n    'ytz-datagrid-column',\n    'ytz-dialog',\n    'ytz-disclosure',\n    'ytz-drawer',\n    'ytz-icon-button',\n    'ytz-listbox',\n    'ytz-menu',\n    'ytz-menuitem',\n    'ytz-option',\n    'ytz-popover',\n    'ytz-progress',\n    'ytz-select',\n    'ytz-slider',\n    'ytz-snackbar',\n    'ytz-tab',\n    'ytz-tabpanel',\n    'ytz-tabs',\n    'ytz-theme-toggle',\n    'ytz-toggle',\n    'ytz-tooltip',\n  ]\n\n  const status = {}\n  for (const name of components) {\n    status[name] = customElements.get(name) !== undefined\n  }\n  return status\n}\n\n/**\n * Wait for all components to be defined.\n * Useful when components need to be ready before use.\n *\n * @returns {Promise<void>} Resolves when all components are defined\n */\nexport async function whenAllDefined() {\n  const components = [\n    'ytz-accordion',\n    'ytz-accordion-item',\n    'ytz-autocomplete',\n    'ytz-badge',\n    'ytz-button',\n    'ytz-chip',\n    'ytz-datagrid',\n    'ytz-datagrid-column',\n    'ytz-dialog',\n    'ytz-disclosure',\n    'ytz-drawer',\n    'ytz-icon-button',\n    'ytz-listbox',\n    'ytz-menu',\n    'ytz-menuitem',\n    'ytz-option',\n    'ytz-popover',\n    'ytz-progress',\n    'ytz-select',\n    'ytz-slider',\n    'ytz-snackbar',\n    'ytz-tab',\n    'ytz-tabpanel',\n    'ytz-tabs',\n    'ytz-theme-toggle',\n    'ytz-toggle',\n    'ytz-tooltip',\n  ]\n\n  await Promise.all(\n    components.map(name => customElements.whenDefined(name))\n  )\n}\n\n// Log registration on load (development aid, tree-shaken in production)\nif (typeof window !== 'undefined' && window.location?.hostname === 'localhost') {\n  console.log('[Yetzirah] Components auto-registered via CDN entry')\n}\n"]}