{"version":3,"sources":["../src/utils/position.js","../src/tooltip.js"],"names":["position","anchor","floating","options","placement","offset","anchorRect","floatingRect","viewport","x","y","finalPlacement","tooltipId","YtzTooltip","#trigger","#content","#contentId","#showTimeout","#hideTimeout","#isVisible","#setup","#cleanup","#updatePosition","value","#handleMouseEnter","#handleMouseLeave","#handleContentMouseEnter","#handleFocusIn","#handleFocusOut","#handleTouchStart","#show","#hide"],"mappings":"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","file":"tooltip.js","sourcesContent":["/**\r\n * Position utility for tooltips, menus, popovers.\r\n * Places an element relative to an anchor with flip/shift logic.\r\n *\r\n * @module @grimoire/yetzirah-core/utils/position\r\n * @internal Not exported from package\r\n *\r\n * Limitations (by design):\r\n * - Does not handle nested scroll containers\r\n * - Does not support virtual elements\r\n * - No middleware system\r\n */\r\n\r\n/**\r\n * Position a floating element relative to an anchor.\r\n *\r\n * @param {HTMLElement} anchor - Element to position relative to\r\n * @param {HTMLElement} floating - Element to position\r\n * @param {Object} [options] - Positioning options\r\n * @param {'top'|'bottom'|'left'|'right'} [options.placement='top'] - Preferred placement\r\n * @param {number} [options.offset=8] - Gap between anchor and floating element\r\n * @returns {{ x: number, y: number, placement: string }}\r\n */\r\nexport function position(anchor, floating, options = {}) {\r\n  const { placement = 'top', offset = 8 } = options\r\n\r\n  const anchorRect = anchor.getBoundingClientRect()\r\n  const floatingRect = floating.getBoundingClientRect()\r\n  const viewport = { width: window.innerWidth, height: window.innerHeight }\r\n\r\n  let x, y\r\n  let finalPlacement = placement\r\n\r\n  // Calculate position based on placement\r\n  switch (placement) {\r\n    case 'top':\r\n      x = anchorRect.left + (anchorRect.width - floatingRect.width) / 2\r\n      y = anchorRect.top - floatingRect.height - offset\r\n      break\r\n    case 'bottom':\r\n      x = anchorRect.left + (anchorRect.width - floatingRect.width) / 2\r\n      y = anchorRect.bottom + offset\r\n      break\r\n    case 'left':\r\n      x = anchorRect.left - floatingRect.width - offset\r\n      y = anchorRect.top + (anchorRect.height - floatingRect.height) / 2\r\n      break\r\n    case 'right':\r\n      x = anchorRect.right + offset\r\n      y = anchorRect.top + (anchorRect.height - floatingRect.height) / 2\r\n      break\r\n  }\r\n\r\n  // Flip if outside viewport\r\n  if (placement === 'top' && y < 0) {\r\n    y = anchorRect.bottom + offset\r\n    finalPlacement = 'bottom'\r\n  } else if (placement === 'bottom' && y + floatingRect.height > viewport.height) {\r\n    y = anchorRect.top - floatingRect.height - offset\r\n    finalPlacement = 'top'\r\n  } else if (placement === 'left' && x < 0) {\r\n    x = anchorRect.right + offset\r\n    finalPlacement = 'right'\r\n  } else if (placement === 'right' && x + floatingRect.width > viewport.width) {\r\n    x = anchorRect.left - floatingRect.width - offset\r\n    finalPlacement = 'left'\r\n  }\r\n\r\n  // Shift to stay in viewport\r\n  if (finalPlacement === 'top' || finalPlacement === 'bottom') {\r\n    x = Math.max(0, Math.min(x, viewport.width - floatingRect.width))\r\n  } else {\r\n    y = Math.max(0, Math.min(y, viewport.height - floatingRect.height))\r\n  }\r\n\r\n  return { x, y, placement: finalPlacement }\r\n}\r\n","/**\r\n * ytz-tooltip - Positioned hint text Web Component.\r\n * Shows on hover/focus with configurable delay and placement.\r\n *\r\n * @module @grimoire/yetzirah-core/tooltip\r\n * @example\r\n * <ytz-tooltip>\r\n *   <button>Hover me</button>\r\n *   <span slot=\"content\">Tooltip text</span>\r\n * </ytz-tooltip>\r\n *\r\n * @example\r\n * // With placement and delay\r\n * <ytz-tooltip placement=\"bottom\" delay=\"200\">\r\n *   <button>Hover me</button>\r\n *   <span slot=\"content\">Bottom tooltip</span>\r\n * </ytz-tooltip>\r\n */\r\n\r\nimport { position } from './utils/position.js'\r\n\r\nlet tooltipId = 0\r\n\r\n/**\r\n * @class YtzTooltip\r\n * @extends HTMLElement\r\n */\r\nclass YtzTooltip extends HTMLElement {\r\n  static observedAttributes = ['placement', 'delay', 'offset']\r\n\r\n  /** @type {HTMLElement|null} */\r\n  #trigger = null\r\n  /** @type {HTMLElement|null} */\r\n  #content = null\r\n  /** @type {string|null} */\r\n  #contentId = null\r\n  /** @type {number|null} */\r\n  #showTimeout = null\r\n  /** @type {number|null} */\r\n  #hideTimeout = null\r\n  /** @type {boolean} */\r\n  #isVisible = false\r\n\r\n  connectedCallback() {\r\n    this.#setup()\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.#cleanup()\r\n    clearTimeout(this.#showTimeout)\r\n    clearTimeout(this.#hideTimeout)\r\n  }\r\n\r\n  attributeChangedCallback() {\r\n    if (this.#isVisible) this.#updatePosition()\r\n  }\r\n\r\n  /** @returns {'top'|'bottom'|'left'|'right'} */\r\n  get placement() {\r\n    return this.getAttribute('placement') || 'top'\r\n  }\r\n\r\n  /** @param {'top'|'bottom'|'left'|'right'} value */\r\n  set placement(value) {\r\n    if (value) {\r\n      this.setAttribute('placement', value)\r\n    } else {\r\n      this.removeAttribute('placement')\r\n    }\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get delay() {\r\n    return parseInt(this.getAttribute('delay') || '0', 10)\r\n  }\r\n\r\n  /** @param {number} value */\r\n  set delay(value) {\r\n    if (value != null) {\r\n      this.setAttribute('delay', String(value))\r\n    } else {\r\n      this.removeAttribute('delay')\r\n    }\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get offset() {\r\n    return parseInt(this.getAttribute('offset') || '8', 10)\r\n  }\r\n\r\n  /** @param {number} value */\r\n  set offset(value) {\r\n    if (value != null) {\r\n      this.setAttribute('offset', String(value))\r\n    } else {\r\n      this.removeAttribute('offset')\r\n    }\r\n  }\r\n\r\n  #setup() {\r\n    // Find trigger (first child) and content ([slot=\"content\"] or last child)\r\n    this.#trigger = this.firstElementChild\r\n    this.#content = this.querySelector('[slot=\"content\"]') || this.lastElementChild\r\n\r\n    if (!this.#trigger || !this.#content || this.#trigger === this.#content) return\r\n\r\n    // Generate unique ID for content\r\n    this.#contentId = this.#content.id || `ytz-tooltip-${++tooltipId}`\r\n    this.#content.id = this.#contentId\r\n\r\n    // Set up ARIA\r\n    this.#trigger.setAttribute('aria-describedby', this.#contentId)\r\n    this.#content.setAttribute('role', 'tooltip')\r\n    this.#content.hidden = true\r\n\r\n    // Hover listeners\r\n    this.#trigger.addEventListener('mouseenter', this.#handleMouseEnter)\r\n    this.#trigger.addEventListener('mouseleave', this.#handleMouseLeave)\r\n    this.#content.addEventListener('mouseenter', this.#handleContentMouseEnter)\r\n    this.#content.addEventListener('mouseleave', this.#handleMouseLeave)\r\n\r\n    // Focus listeners\r\n    this.#trigger.addEventListener('focusin', this.#handleFocusIn)\r\n    this.#trigger.addEventListener('focusout', this.#handleFocusOut)\r\n\r\n    // Touch support\r\n    this.#trigger.addEventListener('touchstart', this.#handleTouchStart, { passive: true })\r\n  }\r\n\r\n  #cleanup() {\r\n    this.#trigger?.removeEventListener('mouseenter', this.#handleMouseEnter)\r\n    this.#trigger?.removeEventListener('mouseleave', this.#handleMouseLeave)\r\n    this.#content?.removeEventListener('mouseenter', this.#handleContentMouseEnter)\r\n    this.#content?.removeEventListener('mouseleave', this.#handleMouseLeave)\r\n    this.#trigger?.removeEventListener('focusin', this.#handleFocusIn)\r\n    this.#trigger?.removeEventListener('focusout', this.#handleFocusOut)\r\n    this.#trigger?.removeEventListener('touchstart', this.#handleTouchStart)\r\n  }\r\n\r\n  #handleMouseEnter = () => {\r\n    clearTimeout(this.#hideTimeout)\r\n    this.#showTimeout = setTimeout(() => this.#show(), this.delay)\r\n  }\r\n\r\n  #handleMouseLeave = () => {\r\n    clearTimeout(this.#showTimeout)\r\n    this.#hideTimeout = setTimeout(() => this.#hide(), 100)\r\n  }\r\n\r\n  #handleContentMouseEnter = () => {\r\n    clearTimeout(this.#hideTimeout)\r\n  }\r\n\r\n  #handleFocusIn = () => {\r\n    clearTimeout(this.#hideTimeout)\r\n    this.#show() // No delay for focus (accessibility)\r\n  }\r\n\r\n  #handleFocusOut = () => {\r\n    this.#hide()\r\n  }\r\n\r\n  #handleTouchStart = () => {\r\n    if (this.#isVisible) {\r\n      this.#hide()\r\n    } else {\r\n      this.#show()\r\n    }\r\n  }\r\n\r\n  #show() {\r\n    if (!this.#content || this.#isVisible) return\r\n\r\n    this.#content.hidden = false\r\n    this.#isVisible = true\r\n    this.#updatePosition()\r\n\r\n    // Listen for scroll/resize to reposition\r\n    window.addEventListener('scroll', this.#updatePosition, { passive: true, capture: true })\r\n    window.addEventListener('resize', this.#updatePosition, { passive: true })\r\n\r\n    this.dispatchEvent(new CustomEvent('show', { bubbles: true }))\r\n  }\r\n\r\n  #hide() {\r\n    if (!this.#content || !this.#isVisible) return\r\n\r\n    this.#content.hidden = true\r\n    this.#isVisible = false\r\n\r\n    window.removeEventListener('scroll', this.#updatePosition, { capture: true })\r\n    window.removeEventListener('resize', this.#updatePosition)\r\n\r\n    this.dispatchEvent(new CustomEvent('hide', { bubbles: true }))\r\n  }\r\n\r\n  #updatePosition = () => {\r\n    if (!this.#trigger || !this.#content) return\r\n\r\n    const { x, y, placement: finalPlacement } = position(this.#trigger, this.#content, {\r\n      placement: this.placement,\r\n      offset: this.offset\r\n    })\r\n\r\n    // Position tooltip fixed relative to viewport\r\n    this.#content.style.position = 'fixed'\r\n    this.#content.style.left = `${x}px`\r\n    this.#content.style.top = `${y}px`\r\n\r\n    // Set data attribute for CSS arrow styling\r\n    this.#content.dataset.placement = finalPlacement\r\n  }\r\n\r\n  // Public API\r\n\r\n  /** Show the tooltip programmatically */\r\n  show() {\r\n    clearTimeout(this.#hideTimeout)\r\n    this.#show()\r\n  }\r\n\r\n  /** Hide the tooltip programmatically */\r\n  hide() {\r\n    clearTimeout(this.#showTimeout)\r\n    this.#hide()\r\n  }\r\n}\r\n\r\ncustomElements.define('ytz-tooltip', YtzTooltip)\r\n\r\nexport { YtzTooltip }\r\n"]}