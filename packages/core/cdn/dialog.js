var r='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])';function l(i){function t(e){if(e.key!=="Tab")return;let s=[...i.querySelectorAll(r)].filter(d=>!d.hidden&&!d.closest("[hidden]"));if(s.length===0)return;let o=s[0],a=s[s.length-1];e.shiftKey&&document.activeElement===o?(e.preventDefault(),a.focus()):!e.shiftKey&&document.activeElement===a&&(e.preventDefault(),o.focus());}return {activate(){i.addEventListener("keydown",t);},deactivate(){i.removeEventListener("keydown",t);}}}var c='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])',n=class extends HTMLElement{static observedAttributes=["open"];#e=null;#t=null;#s="";connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true"),this.hidden=!this.hasAttribute("open"),this.addEventListener("click",this.#o);}disconnectedCallback(){this.removeEventListener("click",this.#o),this.#i();}attributeChangedCallback(t,e,s){t==="open"&&this.isConnected&&(s!==null?this.#a():this.#d());}#a(){this.#e=document.activeElement,this.hidden=false,this.#s=document.body.style.overflow,document.body.style.overflow="hidden",this.#t=l(this),this.#t.activate(),document.addEventListener("keydown",this.#n),requestAnimationFrame(()=>{let t=this.querySelector(c);t?t.focus():(this.setAttribute("tabindex","-1"),this.focus());});}#d(){this.hidden=true,this.#i(),this.dispatchEvent(new CustomEvent("close",{bubbles:true}));}#i(){document.body.style.overflow=this.#s,this.#t?.deactivate(),this.#t=null,document.removeEventListener("keydown",this.#n),this.#e?.focus(),this.#e=null;}#n=t=>{t.key==="Escape"&&this.hasAttribute("open")&&(t.preventDefault(),this.removeAttribute("open"));};#o=t=>{t.target===this&&!this.hasAttribute("static")&&this.removeAttribute("open");};get open(){return this.hasAttribute("open")}set open(t){t?this.setAttribute("open",""):this.removeAttribute("open");}close(){this.removeAttribute("open");}showModal(){this.setAttribute("open","");}};customElements.define("ytz-dialog",n);export{n as YtzDialog};//# sourceMappingURL=dialog.js.map
//# sourceMappingURL=dialog.js.map