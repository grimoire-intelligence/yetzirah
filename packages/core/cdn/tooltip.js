function c(d,e,a={}){let{placement:n="top",offset:o=8}=a,t=d.getBoundingClientRect(),i=e.getBoundingClientRect(),l={width:window.innerWidth,height:window.innerHeight},s,h,r=n;switch(n){case "top":s=t.left+(t.width-i.width)/2,h=t.top-i.height-o;break;case "bottom":s=t.left+(t.width-i.width)/2,h=t.bottom+o;break;case "left":s=t.left-i.width-o,h=t.top+(t.height-i.height)/2;break;case "right":s=t.right+o,h=t.top+(t.height-i.height)/2;break}return n==="top"&&h<0?(h=t.bottom+o,r="bottom"):n==="bottom"&&h+i.height>l.height?(h=t.top-i.height-o,r="top"):n==="left"&&s<0?(s=t.right+o,r="right"):n==="right"&&s+i.width>l.width&&(s=t.left-i.width-o,r="left"),r==="top"||r==="bottom"?s=Math.max(0,Math.min(s,l.width-i.width)):h=Math.max(0,Math.min(h,l.height-i.height)),{x:s,y:h,placement:r}}var m=0,u=class extends HTMLElement{static observedAttributes=["placement","delay","offset"];#e=null;#t=null;#a=null;#n=null;#i=null;#s=false;connectedCallback(){this.#p();}disconnectedCallback(){this.#v(),clearTimeout(this.#n),clearTimeout(this.#i);}attributeChangedCallback(){this.#s&&this.#h();}get placement(){return this.getAttribute("placement")||"top"}set placement(e){e?this.setAttribute("placement",e):this.removeAttribute("placement");}get delay(){return parseInt(this.getAttribute("delay")||"0",10)}set delay(e){e!=null?this.setAttribute("delay",String(e)):this.removeAttribute("delay");}get offset(){return parseInt(this.getAttribute("offset")||"8",10)}set offset(e){e!=null?this.setAttribute("offset",String(e)):this.removeAttribute("offset");}#p(){this.#e=this.firstElementChild,this.#t=this.querySelector('[slot="content"]')||this.lastElementChild,!(!this.#e||!this.#t||this.#e===this.#t)&&(this.#a=this.#t.id||`ytz-tooltip-${++m}`,this.#t.id=this.#a,this.#e.setAttribute("aria-describedby",this.#a),this.#t.setAttribute("role","tooltip"),this.#t.hidden=true,this.#e.addEventListener("mouseenter",this.#u),this.#e.addEventListener("mouseleave",this.#o),this.#t.addEventListener("mouseenter",this.#d),this.#t.addEventListener("mouseleave",this.#o),this.#e.addEventListener("focusin",this.#c),this.#e.addEventListener("focusout",this.#m),this.#e.addEventListener("touchstart",this.#f,{passive:true}));}#v(){this.#e?.removeEventListener("mouseenter",this.#u),this.#e?.removeEventListener("mouseleave",this.#o),this.#t?.removeEventListener("mouseenter",this.#d),this.#t?.removeEventListener("mouseleave",this.#o),this.#e?.removeEventListener("focusin",this.#c),this.#e?.removeEventListener("focusout",this.#m),this.#e?.removeEventListener("touchstart",this.#f);}#u=()=>{clearTimeout(this.#i),this.#n=setTimeout(()=>this.#r(),this.delay);};#o=()=>{clearTimeout(this.#n),this.#i=setTimeout(()=>this.#l(),100);};#d=()=>{clearTimeout(this.#i);};#c=()=>{clearTimeout(this.#i),this.#r();};#m=()=>{this.#l();};#f=()=>{this.#s?this.#l():this.#r();};#r(){!this.#t||this.#s||(this.#t.hidden=false,this.#s=true,this.#h(),window.addEventListener("scroll",this.#h,{passive:true,capture:true}),window.addEventListener("resize",this.#h,{passive:true}),this.dispatchEvent(new CustomEvent("show",{bubbles:true})));}#l(){!this.#t||!this.#s||(this.#t.hidden=true,this.#s=false,window.removeEventListener("scroll",this.#h,{capture:true}),window.removeEventListener("resize",this.#h),this.dispatchEvent(new CustomEvent("hide",{bubbles:true})));}#h=()=>{if(!this.#e||!this.#t)return;let{x:e,y:a,placement:n}=c(this.#e,this.#t,{placement:this.placement,offset:this.offset});this.#t.style.position="fixed",this.#t.style.left=`${e}px`,this.#t.style.top=`${a}px`,this.#t.dataset.placement=n;};show(){clearTimeout(this.#i),this.#r();}hide(){clearTimeout(this.#n),this.#l();}};customElements.define("ytz-tooltip",u);export{u as YtzTooltip};//# sourceMappingURL=tooltip.js.map
//# sourceMappingURL=tooltip.js.map