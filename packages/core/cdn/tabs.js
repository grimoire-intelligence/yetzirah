function d(n,t={}){let{orientation:e="horizontal",wrap:i=true,autoActivate:f=true,onActivate:b}=t,v=e==="horizontal"?"ArrowLeft":"ArrowUp",y=e==="horizontal"?"ArrowRight":"ArrowDown";return {handleKeyDown(a){let r=n(),l=r.indexOf(document.activeElement);if(l===-1)return;let s=l;if(a.key===v)s=l-1,s<0&&(s=i?r.length-1:0);else if(a.key===y)s=l+1,s>=r.length&&(s=i?0:r.length-1);else if(a.key==="Home")s=0;else if(a.key==="End")s=r.length-1;else return;a.preventDefault(),r[s].focus(),f&&b&&b(r[s]);}}}function o(n,t){customElements.get(n)||customElements.define(n,t);}var A=0,u=class extends HTMLElement{static observedAttributes=["value","orientation"];#t=null;connectedCallback(){if(this.setAttribute("role","tablist"),this.#e(),!this.hasAttribute("value")){let t=this.querySelector("ytz-tab");t?.getAttribute("panel")&&this.setAttribute("value",t.getAttribute("panel"));}this.#i();}attributeChangedCallback(t,e,i){this.isConnected&&(t==="value"&&e!==i&&(this.#i(),e!==null&&this.dispatchEvent(new CustomEvent("change",{bubbles:true,detail:{value:i}}))),t==="orientation"&&this.#e());}#e(){let t=this.getAttribute("orientation")==="vertical"?"vertical":"horizontal";this.#t=d(()=>[...this.querySelectorAll("ytz-tab")],{orientation:t,wrap:true,autoActivate:true,onActivate:e=>{let i=e.getAttribute("panel");i&&(this.value=i);}}),this.addEventListener("keydown",this.#s);}#s=t=>this.#t?.handleKeyDown(t);#i(){let t=this.getAttribute("value");this.querySelectorAll("ytz-tab").forEach(e=>{let i=e.getAttribute("panel")===t;e.setAttribute("aria-selected",String(i)),e.setAttribute("tabindex",i?"0":"-1");}),this.querySelectorAll("ytz-tabpanel").forEach(e=>{e.hidden=e.id!==t;});}get value(){return this.getAttribute("value")}set value(t){t?this.setAttribute("value",t):this.removeAttribute("value");}get orientation(){return this.getAttribute("orientation")==="vertical"?"vertical":"horizontal"}set orientation(t){this.setAttribute("orientation",t);}},h=class extends HTMLElement{connectedCallback(){this.setAttribute("role","tab"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),this.id||(this.id=`ytz-tab-${++A}`);let t=this.getAttribute("panel");t&&this.setAttribute("aria-controls",t),this.addEventListener("click",this.#t);}disconnectedCallback(){this.removeEventListener("click",this.#t);}#t=()=>{let t=this.closest("ytz-tabs"),e=this.getAttribute("panel");t&&e&&(t.value=e);};get panel(){return this.getAttribute("panel")}set panel(t){t?(this.setAttribute("panel",t),this.setAttribute("aria-controls",t)):(this.removeAttribute("panel"),this.removeAttribute("aria-controls"));}},c=class extends HTMLElement{connectedCallback(){this.setAttribute("role","tabpanel");let t=this.closest("ytz-tabs");t?this.hidden=this.id!==t.getAttribute("value"):this.hidden=true,this.#t();}#t(){let t=this.closest("ytz-tabs");if(!t||!this.id)return;let e=t.querySelector(`ytz-tab[panel="${this.id}"]`);e&&(e.id||(e.id=`ytz-tab-${++A}`),this.setAttribute("aria-labelledby",e.id));}};o("ytz-tabs",u);o("ytz-tab",h);o("ytz-tabpanel",c);export{h as YtzTab,c as YtzTabPanel,u as YtzTabs};//# sourceMappingURL=tabs.js.map
//# sourceMappingURL=tabs.js.map