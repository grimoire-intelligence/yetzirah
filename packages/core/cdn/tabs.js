function b(a,t={}){let{orientation:e="horizontal",wrap:i=true,autoActivate:A=true,onActivate:c}=t,v=e==="horizontal"?"ArrowLeft":"ArrowUp",f=e==="horizontal"?"ArrowRight":"ArrowDown";return {handleKeyDown(r){let n=a(),l=n.indexOf(document.activeElement);if(l===-1)return;let s=l;if(r.key===v)s=l-1,s<0&&(s=i?n.length-1:0);else if(r.key===f)s=l+1,s>=n.length&&(s=i?0:n.length-1);else if(r.key==="Home")s=0;else if(r.key==="End")s=n.length-1;else return;r.preventDefault(),n[s].focus(),A&&c&&c(n[s]);}}}var d=0,o=class extends HTMLElement{static observedAttributes=["value","orientation"];#t=null;connectedCallback(){if(this.setAttribute("role","tablist"),this.#e(),!this.hasAttribute("value")){let t=this.querySelector("ytz-tab");t?.getAttribute("panel")&&this.setAttribute("value",t.getAttribute("panel"));}this.#i();}attributeChangedCallback(t,e,i){this.isConnected&&(t==="value"&&e!==i&&(this.#i(),e!==null&&this.dispatchEvent(new CustomEvent("change",{bubbles:true,detail:{value:i}}))),t==="orientation"&&this.#e());}#e(){let t=this.getAttribute("orientation")==="vertical"?"vertical":"horizontal";this.#t=b(()=>[...this.querySelectorAll("ytz-tab")],{orientation:t,wrap:true,autoActivate:true,onActivate:e=>{let i=e.getAttribute("panel");i&&(this.value=i);}}),this.addEventListener("keydown",this.#s);}#s=t=>this.#t?.handleKeyDown(t);#i(){let t=this.getAttribute("value");this.querySelectorAll("ytz-tab").forEach(e=>{let i=e.getAttribute("panel")===t;e.setAttribute("aria-selected",String(i)),e.setAttribute("tabindex",i?"0":"-1");}),this.querySelectorAll("ytz-tabpanel").forEach(e=>{e.hidden=e.id!==t;});}get value(){return this.getAttribute("value")}set value(t){t?this.setAttribute("value",t):this.removeAttribute("value");}get orientation(){return this.getAttribute("orientation")==="vertical"?"vertical":"horizontal"}set orientation(t){this.setAttribute("orientation",t);}},u=class extends HTMLElement{connectedCallback(){this.setAttribute("role","tab"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),this.id||(this.id=`ytz-tab-${++d}`);let t=this.getAttribute("panel");t&&this.setAttribute("aria-controls",t),this.addEventListener("click",this.#t);}disconnectedCallback(){this.removeEventListener("click",this.#t);}#t=()=>{let t=this.closest("ytz-tabs"),e=this.getAttribute("panel");t&&e&&(t.value=e);};get panel(){return this.getAttribute("panel")}set panel(t){t?(this.setAttribute("panel",t),this.setAttribute("aria-controls",t)):(this.removeAttribute("panel"),this.removeAttribute("aria-controls"));}},h=class extends HTMLElement{connectedCallback(){this.setAttribute("role","tabpanel");let t=this.closest("ytz-tabs");t?this.hidden=this.id!==t.getAttribute("value"):this.hidden=true,this.#t();}#t(){let t=this.closest("ytz-tabs");if(!t||!this.id)return;let e=t.querySelector(`ytz-tab[panel="${this.id}"]`);e&&(e.id||(e.id=`ytz-tab-${++d}`),this.setAttribute("aria-labelledby",e.id));}};customElements.define("ytz-tabs",o);customElements.define("ytz-tab",u);customElements.define("ytz-tabpanel",h);export{u as YtzTab,h as YtzTabPanel,o as YtzTabs};//# sourceMappingURL=tabs.js.map
//# sourceMappingURL=tabs.js.map