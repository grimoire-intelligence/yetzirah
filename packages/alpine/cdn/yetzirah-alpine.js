import'@grimoire/yetzirah-core';function O(t,o){let e;return n=>{clearTimeout(e),e=setTimeout(()=>t(n),o);}}function h(t,o){t.directive(`${o}-dialog`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("open",""):a(()=>{r(n)?e.setAttribute("open",""):e.removeAttribute("open");});let i=()=>{t.evaluate(e,`${n} = false`);};e.addEventListener("close",i),u(()=>e.removeEventListener("close",i));}),t.directive(`${o}-drawer`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("open",""):a(()=>{r(n)?e.setAttribute("open",""):e.removeAttribute("open");});let i=()=>{t.evaluate(e,`${n} = false`);};e.addEventListener("close",i),u(()=>e.removeEventListener("close",i));}),t.directive(`${o}-tabs`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{if(c.includes("once")){let s=r(n);s&&e.setAttribute("default-tab",String(s));}else a(()=>{let s=r(n);s&&e.setAttribute("default-tab",String(s));});let i=s=>{let v=s;t.evaluate(e,`${n} = '${v.detail?.value||""}'`);};e.addEventListener("change",i),u(()=>e.removeEventListener("change",i));}),t.directive(`${o}-toggle`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("checked",""):a(()=>{r(n)?e.setAttribute("checked",""):e.removeAttribute("checked");});let i=s=>{let v=s;t.evaluate(e,`${n} = ${v.detail?.checked??false}`);};e.addEventListener("change",i),u(()=>e.removeEventListener("change",i));}),t.directive(`${o}-slider`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{let d=c.includes("once"),i=c.includes("lazy"),s=c.includes("number");if(d){let m=r(n);m!==void 0&&e.setAttribute("value",String(m));}else a(()=>{let m=r(n);m!==void 0&&e.setAttribute("value",String(m));});let v=m=>{let l=m.detail?.value??0;s&&(l=Number(l)),t.evaluate(e,`${n} = ${l}`);},g=i?O(v,150):v;e.addEventListener("change",g),u(()=>e.removeEventListener("change",g));}),t.directive(`${o}-select`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{if(c.includes("once")){let s=r(n);s!==void 0&&e.setAttribute("value",String(s));}else a(()=>{let s=r(n);s!==void 0&&e.setAttribute("value",String(s));});let i=s=>{let v=s;t.evaluate(e,`${n} = '${v.detail?.value||""}'`);};e.addEventListener("change",i),u(()=>e.removeEventListener("change",i));}),t.directive(`${o}-disclosure`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("open",""):a(()=>{r(n)?e.setAttribute("open",""):e.removeAttribute("open");});let i=s=>{let v=s;t.evaluate(e,`${n} = ${v.detail?.open??false}`);};e.addEventListener("toggle",i),u(()=>e.removeEventListener("toggle",i));}),t.directive(`${o}-accordion-item`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("open",""):a(()=>{r(n)?e.setAttribute("open",""):e.removeAttribute("open");});let i=s=>{let v=s;t.evaluate(e,`${n} = ${v.detail?.open??false}`);};e.addEventListener("toggle",i),u(()=>e.removeEventListener("toggle",i));}),t.directive(`${o}-popover`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("open",""):a(()=>{r(n)?e.setAttribute("open",""):e.removeAttribute("open");});let i=s=>{let v=s;t.evaluate(e,`${n} = ${v.detail?.open??false}`);};e.addEventListener("toggle",i),u(()=>e.removeEventListener("toggle",i));}),t.directive(`${o}-autocomplete`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{let d=c.includes("once"),i=c.includes("lazy");if(d){let g=r(n);g!==void 0&&e.setAttribute("value",String(g));}else a(()=>{let g=r(n);g!==void 0&&e.setAttribute("value",String(g));});let s=g=>{let m=g;t.evaluate(e,`${n} = '${m.detail?.value||""}'`);},v=i?O(s,150):s;e.addEventListener("input",v),e.addEventListener("select",s),u(()=>{e.removeEventListener("input",v),e.removeEventListener("select",s);});}),t.directive(`${o}-listbox`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{if(c.includes("once")){let s=r(n);s!==void 0&&e.setAttribute("value",String(s));}else a(()=>{let s=r(n);s!==void 0&&e.setAttribute("value",String(s));});let i=s=>{let v=s;t.evaluate(e,`${n} = '${v.detail?.value||""}'`);};e.addEventListener("change",i),u(()=>e.removeEventListener("change",i));}),t.directive(`${o}-menu`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("open",""):a(()=>{r(n)?e.setAttribute("open",""):e.removeAttribute("open");});let i=()=>{t.evaluate(e,`${n} = false`);};e.addEventListener("close",i),u(()=>e.removeEventListener("close",i));}),t.directive(`${o}-progress`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a})=>{let u=c.includes("once"),d=c.includes("number");if(u){let i=r(n);d&&(i=Number(i)),i!==void 0&&e.setAttribute("value",String(i));}else a(()=>{let i=r(n);d&&(i=Number(i)),i!==void 0&&e.setAttribute("value",String(i));});}),t.directive(`${o}-snackbar`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{c.includes("once")?r(n)&&e.setAttribute("open",""):a(()=>{r(n)?e.setAttribute("open",""):e.removeAttribute("open");});let i=()=>{t.evaluate(e,`${n} = false`);};e.addEventListener("close",i),u(()=>e.removeEventListener("close",i));}),t.directive(`${o}-chip`,(e,{expression:n},{cleanup:c})=>{let r=()=>{t.evaluate(e,n);};e.addEventListener("remove",r),c(()=>e.removeEventListener("remove",r));}),t.directive(`${o}-badge`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a})=>{let u=c.includes("once"),d=c.includes("number");if(u){let i=r(n);d&&(i=Number(i)),i!==void 0&&e.setAttribute("count",String(i));}else a(()=>{let i=r(n);d&&(i=Number(i)),i!==void 0&&e.setAttribute("count",String(i));});}),t.directive(`${o}-init`,(e,{expression:n},{cleanup:c})=>{let r=()=>{t.evaluate(e,n);};e.ready?t.evaluate(e,n):(e.addEventListener("ytz:ready",r,{once:true}),c(()=>e.removeEventListener("ytz:ready",r)));});}function L(t,o){let e;return n=>{clearTimeout(e),e=setTimeout(()=>t(n),o);}}function $(t){return {"ytz-slider":{attr:"value",detailKey:"value",events:["change"]},"ytz-select":{attr:"value",detailKey:"value",events:["change"]},"ytz-toggle":{attr:"checked",detailKey:"checked",events:["change"],isBoolean:true},"ytz-autocomplete":{attr:"value",detailKey:"value",events:["input","select"]},"ytz-listbox":{attr:"value",detailKey:"value",events:["change"]},"ytz-dialog":{attr:"open",detailKey:"open",events:["close"],isBoolean:true},"ytz-drawer":{attr:"open",detailKey:"open",events:["close"],isBoolean:true},"ytz-disclosure":{attr:"open",detailKey:"open",events:["toggle"],isBoolean:true},"ytz-popover":{attr:"open",detailKey:"open",events:["toggle"],isBoolean:true},"ytz-accordion-item":{attr:"open",detailKey:"open",events:["toggle"],isBoolean:true},"ytz-tabs":{attr:"default-tab",detailKey:"value",events:["change"]},"ytz-progress":{attr:"value",detailKey:"value",events:[]},"ytz-badge":{attr:"count",detailKey:"count",events:[]},"ytz-snackbar":{attr:"open",detailKey:"open",events:["close"],isBoolean:true},"ytz-menu":{attr:"open",detailKey:"open",events:["close"],isBoolean:true}}[t]}function y(t,o){t.directive(`${o}:model`,(e,{expression:n,modifiers:c},{evaluate:r,effect:a,cleanup:u})=>{let d=e.tagName.toLowerCase(),i=$(d);if(!i){console.warn(`[ytz:model] Unsupported component: ${d}`);return}let s=c.includes("lazy"),v=c.includes("number"),g=c.includes("trim");if(a(()=>{let l=r(n);l!==void 0&&(i.isBoolean?l?e.setAttribute(i.attr,""):e.removeAttribute(i.attr):e.setAttribute(i.attr,String(l)));}),i.events.length===0)return;let m=l=>{let f=l.detail?.[i.detailKey];i.isBoolean&&l.type==="close"&&(f=false),v&&f!==void 0&&(f=Number(f)),g&&typeof f=="string"&&(f=f.trim()),i.isBoolean?t.evaluate(e,`${n} = ${!!f}`):typeof f=="string"?t.evaluate(e,`${n} = '${f.replace(/'/g,"\\'")}'`):t.evaluate(e,`${n} = ${JSON.stringify(f)}`);},p=s?L(m,150):m;for(let l of i.events)e.addEventListener(l,p);u(()=>{for(let l of i.events)e.removeEventListener(l,p);});});}function E(t){return typeof t=="string"?document.querySelector(t):t instanceof HTMLElement?t:null}function b(){return {open(t){let o=E(t);o&&o.setAttribute("open","");},close(t){let o=E(t);o&&o.removeAttribute("open");},toggle(t){let o=E(t);o&&(o.hasAttribute("open")?o.removeAttribute("open"):o.setAttribute("open",""));},show(t,o){let e=E(t);e&&(o!==void 0&&(e.textContent=o),e.setAttribute("open",""));},snackbar(t,o={}){let e=document.createElement("ytz-snackbar");return e.textContent=t,o.duration!==void 0&&e.setAttribute("duration",String(o.duration)),o.position&&e.setAttribute("position",o.position),document.body.appendChild(e),e.setAttribute("open",""),e.addEventListener("close",()=>{e.remove();},{once:true}),e},openDialog(t){let o=E(t);o&&o.setAttribute("open","");},closeDialog(t){let o=E(t);o&&o.removeAttribute("open");},openDrawer(t){let o=E(t);o&&o.setAttribute("open","");},closeDrawer(t){let o=E(t);o&&o.removeAttribute("open");},toggleTheme(){let o=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",o),o},getTheme(){return document.documentElement.getAttribute("data-theme")||"light"},setTheme(t){document.documentElement.setAttribute("data-theme",t);}}}var N="0.1.0";function T(t,o={}){let e=o.prefix??"ytz";h(t,e),y(t,e),t.magic(e,()=>b());}var B=T;export{N as VERSION,b as createYtzMagic,B as default,h as registerDirectives,y as registerModelDirective,T as yetzirahPlugin};//# sourceMappingURL=yetzirah-alpine.js.map
//# sourceMappingURL=yetzirah-alpine.js.map